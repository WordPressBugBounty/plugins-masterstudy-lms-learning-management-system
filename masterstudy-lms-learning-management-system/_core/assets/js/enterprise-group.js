"use strict";jQuery(document).ready((function(){new Vue({el:"#stm_lms_enterprise_group",data:function(){return{loading:!1,group_id:window.stm_lms_group.id,translations:window.stm_lms_group.translate,group:[]}},mounted:function(){this.fetchGroup()},computed:{},methods:{fetchGroup:function(){var s=this,t=stm_lms_ajaxurl+"?action=stm_lms_get_enterprise_group&group_id="+s.group_id+"&nonce="+stm_lms_nonces.stm_lms_get_enterprise_group;s.loading=!0,this.$http.get(t).then((function(t){s.$set(s,"group",t.body),s.loading=!1}))},openUser:function(s){void 0===s.courses?this.getUserCourses(s):this.$set(s,"active",!s.active)},getUserCourses:function(s){var t=this,e=stm_lms_ajaxurl+"?action=stm_lms_get_user_ent_courses&user_id="+s.id+"&group_id="+t.group_id+"&nonce="+stm_lms_nonces.stm_lms_get_user_ent_courses;t.$set(s,"loading",!0),t.$set(s,"active",!0),this.$http.get(e).then((function(e){t.$set(s,"courses",e.body),t.$set(s,"loading",!1)}))},deleteUserCourse:function(s,t){var e=this,n=stm_lms_ajaxurl+"?action=stm_lms_delete_user_ent_courses&user_id="+s.id+"&group_id="+t.group_id+"&course_id="+t.course_id+"&nonce="+stm_lms_nonces.stm_lms_delete_user_ent_courses;e.$set(t,"loading",!0),this.$http.get(n).then((function(s){e.$set(t,"added",!1),e.$set(t,"loading",!1)}))},addUserCourse:function(s,t){var e=this,n=stm_lms_ajaxurl+"?action=stm_lms_add_user_ent_courses&user_id="+s.id+"&group_id="+t.group_id+"&course_id="+t.course_id+"&nonce="+stm_lms_nonces.stm_lms_add_user_ent_courses;e.$set(t,"loading",!0),this.$http.get(n).then((function(s){e.$set(t,"added",!0),e.$set(t,"loading",!1)}))},changeAdmin:function(s){var t=this;if(!confirm(t.translations.admin_notice))return!1;var e=stm_lms_ajaxurl+"?action=stm_lms_change_ent_group_admin&user_id="+s.id+"&group_id="+t.group_id+"&nonce="+stm_lms_nonces.stm_lms_change_ent_group_admin;t.$set(s,"loading",!0),this.$http.get(e).then((function(s){window.location.replace(s.body)}))},removeFromGroup:function(s,t){var e=this;if(!confirm(e.translations.remove_notice))return!1;var n=stm_lms_ajaxurl+"?action=stm_lms_delete_user_from_group&user_id="+s.id+"&user_email="+s.email+"&group_id="+e.group_id+"&nonce="+stm_lms_nonces.stm_lms_delete_user_from_group;e.$set(s,"loading",!0),this.$http.get(n).then((function(s){e.group.users.splice(t,1)}))}}})}));