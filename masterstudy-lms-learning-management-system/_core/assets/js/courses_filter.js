"use strict";function _typeof(s){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(s){return typeof s}:function(s){return s&&"function"==typeof Symbol&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},_typeof(s)}!function(s){function t(t){var e=[],o=[];if(s(".stm_lms_courses__subcategory_item").hide(),s(".stm_lms_courses__category .stm_lms_courses__filter_category input:checked").each((function(){var t=s(this);e.push(t.val())})),e.length&&e.forEach((function(t){s(".stm_lms_courses__subcategory_"+t+" .stm_lms_courses__filter_category").length&&o.push(t)})),o.length?(s(".stm_lms_courses__subcategory").show(),o.forEach((function(t){s(".stm_lms_courses__subcategory_"+t).show()}))):s(".stm_lms_courses__subcategory").hide(),void 0!==t){var _=t.is(":checked"),r=t.val();_||s(".stm_lms_courses__subcategory_"+r+" input").prop("checked",!1)}}function e(){return"?"+s(".stm_lms_courses__archive_filter form").serialize()}function o(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=s(".courses_filters .stm_lms_courses_grid__sort select"),_=t.closest(".stm_lms_courses_wrapper").find(".stm_lms_courses__archive").find(".stm_lms_load_more_courses"),r=t.closest(".stm_lms_courses_wrapper").find("[data-pages]:last");e&&(r=t.closest(".stm_lms_courses_wrapper").find(".featured-courses"));var c=_.attr("data-args"),i="?"+t.serialize(),n=o.val();_.attr("data-url",i),s.ajax({url:stm_lms_ajaxurl+i,dataType:"json",context:this,data:{offset:0,args:c,sort:n,featured:e,action:"stm_lms_load_content",nonce:stm_lms_nonces.load_content},beforeSend:function(){r.closest(".stm_lms_courses__archive").addClass("loading"),s([document.documentElement,document.body]).animate({scrollTop:s(".stm_lms_courses__archive").offset().top-130},1e3)},complete:function(t){t=t.responseJSON,r.closest(".stm_lms_courses__archive").removeClass("loading"),"object"===_typeof(t)&&t.hasOwnProperty("search_title")&&s(".courses_filters__title").find(".lms-courses-search-result").html(t.search_title),!0===e&&0===parseInt(t.total)?r.parent().find(".featured-head").hide():!0===e&&parseInt(t.total)>0&&r.parent().find(".featured-head").show(),r.html(t.content).attr("data-pages",t.pages),_.attr("data-offset",t.page),hide_button(_,t.page),s(".masterstudy-countdown").each((function(){s(this).countdown({timestamp:s(this).data("timer")})}))}})}s(document).ready((function(){var _,r=s(".stm_lms_courses__filter");r.eq(0).addClass("active").find(".stm_lms_courses__filter_content").slideDown(),r.eq(1).addClass("active").find(".stm_lms_courses__filter_content").slideDown(),r.eq(2).addClass("active").find(".stm_lms_courses__filter_content").slideDown(),r.eq(3).addClass("active").find(".stm_lms_courses__filter_content").slideDown(),r.find(".stm_lms_courses__filter_heading").on("click",(function(){s(this).closest(".stm_lms_courses__filter").toggleClass("active").find(".stm_lms_courses__filter_content").slideToggle()})),s(".stm_lms_courses__filter input").each((function(){var t=s(this).val(),e=s(this).attr("type");"checkbox"!==e&&"radio"!==e||(t=s(this).is(":checked")),t&&s(this).closest(".stm_lms_courses__filter").addClass("active").find(".stm_lms_courses__filter_content").slideDown()})),t(),s(".stm_lms_courses__category .stm_lms_courses__filter_category input").on("change",(function(){t(s(this))})),_=s(".stm_lms_courses__archive_filter form"),s("#lms-search-input").on("change",(function(){_.find('input[name="search"]').val(s(this).val());var t=e();history.pushState({},null,location.origin+location.pathname+t)})),_.on("change",(function(){var t=s(this),o=e();t.closest(".stm_lms_courses_wrapper").find(".stm_lms_courses__archive").find(".stm_lms_load_more_courses"),history.pushState({},null,location.origin+location.pathname+o)})),_.on("submit",(function(t){t.preventDefault();var e=s(this);o(e),o(e,!0)})),s(".stm_lms_courses__archive_filter_toggle").on("click",(function(t){t.preventDefault(),s(".stm_lms_courses__archive_filters").slideToggle()})),s(".limited_list").each((function(){s(this).find("input").each((function(){s(this).is(":checked")&&s(this).closest(".stm_lms_courses__filter_category").slideDown()}))})),s(".reveal_limited").on("click",(function(){s(this).slideUp(),s(this).closest(".limited_list").find(".stm_lms_courses__filter_category").slideDown()}))}))}(jQuery);