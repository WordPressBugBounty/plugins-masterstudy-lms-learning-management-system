"use strict";!function(a){var n=0;a(window).on("load",(function(){a("html").addClass("meet_lesson"),function(){var o=a(".stm_countdown");if(!o.length)return!1;var e=o.data("timer");o.countdown({timestamp:e,callback:function(a,o,e,s){0===a+o+e+s&&n++,3===n&&window.location.reload(!1)}})}()}));var o=0;s(o);a("#stepsss span.active").index();var e="";function s(n){2===o?(a(".gm-next-btn").prop("disabled",!0),a(".gm-next-btn").css("background-color","#cacaca")):a(".gm-next-btn").prop("disabled",!1);var e=a(".tab");e.eq(n).css("display","block"),0==n?a("#prevBtn").css("opacity","0"):a("#prevBtn").css("opacity","1"),n==e.length-1||n==e.length?(a(".gm-prev-btn").css("background-color",""),a(".gm-prev-btn").css("cursor","pointer"),a(".gm-prev-btn").css("color","auto"),a(".gm-prev-btn").css("border-color",""),a("#prevBtn").prop("disabled",!1),a("#nextBtn").html("Grant Permissions"),a("#prevBtn").html("Reset credential")):(a("#nextBtn").html("Next"),a("#prevBtn").html("Back")),function(n){var o=a(".step");o.removeClass("active"),o.eq(n).addClass("active")}(n)}function t(n){var t=a(".tab");3!==o&&t.eq(o).css("display","none"),(o+=n)>=t.length&&(window.location.href=e),s(o)}a(".cancel-uploaded-file").on("click",(function(){a(".gm-json-config-upload label").css("width","101%"),a("#lms-gm-upload-file").val(""),a("#lms-gm-upload-file-label").text("Select File"),a(".cancel-uploaded-file").css("opacity","0"),a(".gm-json-config-upload").css("width","auto"),a(".gm-json-config-upload").css("padding","0"),a(".gm-next-btn").css("background-color","#cacaca"),a(".gm-next-btn").css("cursor","default"),a("#nextBtn").prop("disabled",!0);var n=new FormData;n.append("action","gm_front_reset_settings_ajax"),n.append("nonce",stm_gm_front_ajax_variable.nonce),a.ajax({url:stm_gm_front_ajax_variable.url,type:"post",data:n,dataType:"json",processData:!1,contentType:!1,success:function(a){location.reload()},error:function(a,n,o){console.log(a)}})})),a("#prevBtn").on("click",(function(){o+1>=a(".tab").length?confirm("Are you sure you want to delete this permanently from the site? Please confirm your choice?")?(a(".tab").css("display","none"),a("#lms-gm-upload-file").val(""),a("#lms-gm-upload-file-label").text("Select File"),a(".cancel-uploaded-file").css("opacity","0"),a(".gm-json-config-upload").css("width","auto"),a(".gm-json-config-upload label").css("width","auto"),a(".gm-json-config-upload label").css("border","none"),a(".gm-json-config-upload label").css("margin-bottom","0"),a(".gm-json-config-upload").css("padding","0"),a(".gm-json-config-upload").css("border-radius","4px"),a("#nextBtn").prop("disabled",!0),s(o=0)):console.log("Not saved to the database."):t(-1),a("#nextBtn").prop("disabled",!1),a("#nextBtn").css("background-color",""),a("#stepsss span.active").index()+1})),a("#lms-gm-upload-file").on("change",(function(n){var o=a("#lms-gm-upload-file")[0].files[0],s=new FormData;s.append("file",o),s.append("action","gm_upload_credentials_ajax"),s.append("nonce",stm_google_meet_ajax_variable.nonce),s.append("isFront",!0),a.ajax({url:stm_google_meet_ajax_variable.url,type:"post",data:s,dataType:"json",processData:!1,contentType:!1,success:function(n){a("#lms-gm-upload-file-label").text(o.name),a(".gm-json-config-upload").addClass("uploaded-json"),a(".gm-json-config-upload label").css("width","97%"),a(".gm-json-config-upload").css("width","97%"),a(".gm-json-config-upload").css("border-radius","4px"),a(".gm-json-config-upload label").css("border","none"),a(".gm-json-config-upload ").css("padding","12px"),a(".cancel-uploaded-file").css("opacity","1"),a(".gm-json-config-upload label").css("margin-bottom","0"),a(".gm-prev-btn").css("background-color","#cacaca"),a(".gm-prev-btn").css("cursor","default"),a(".gm-prev-btn").css("border-color","#cacaca"),a(".gm-prev-btn").css("color","#fff"),a("#prevBtn").prop("disabled",!0),e=n.url,a(".gm-next-btn").prop("disabled",!1),a(".gm-next-btn").css("background-color","")},error:function(a,n,o){console.log(a)}})})),a(".lms-gm-btn-copy").on("click",(function(){var n=a(this).siblings("#gm-copy-url").val(),o=a("<input>");a("body").append(o),o.val(n).select(),document.execCommand("copy"),o.remove(),a(".lms-gm-btn-copy").text("Copied")})),a("#nextBtn").on("click",(function(){t(1),a("#stepsss span.active").index()+1,a(".gm-prev-btn").css("color","")})),a(".gmi-tabs-container .tabs-nav li:first-child").addClass("active"),a(".gmi-tabs-container .tab-pane:first-child").addClass("active"),a(".gmi-tabs-container .tabs-nav li").on("click",(function(){var n=a(this).find("a").attr("href");a(".gmi-tabs-container .tabs-nav li").removeClass("active"),a(this).addClass("active"),a(".gmi-tabs-container .tab-pane").removeClass("active"),a(n).addClass("active")}))}(jQuery);