"use strict";new Vue({el:"#stm_lms_form_builder",data:function(){return{globalForms:stm_lms_forms,loading:!1,currentForm:"",forms:[],currentField:"",requiredFields:[],openSelect:!1}},mounted:function(){this.getForms(),this.currentForm=this.globalForms.currentForm,this.requiredFields=this.globalForms.required_fields},methods:{toggleSelect:function(){this.openSelect=!this.openSelect},documentClick:function(e){var t=this.$refs.dropdownMenu,s=e.target;t===s||t.contains(s)||(this.openSelect=!1)},getForms:function(){var e=JSON.parse(JSON.stringify(this.globalForms.forms));this.$set(this,"forms",e)},cloneField:function(e){var t=this.generateID();return"radio"!==e.type&&"select"!==e.type&&"checkbox"!==e.type||this.$set(e,"choices",["","",""]),this.$set(e,"id",t),e},generateID:function(){return Math.random().toString(36).substr(2)},duplicateField:function(e){var t=Object.assign({},e);t.id=this.generateID();var s=this.forms[this.currentForm].fields;s.push(t),this.$set(this.forms[this.currentForm],"fields",s),this.$set(this,"currentField",s.length-1)},deleteField:function(e){this.forms[this.currentForm].fields.splice(e,1),this.currentField=""},changeCurrentField:function(e){this.currentField=e},afterDrag:function(e){void 0!==e.newIndex&&this.$set(this,"currentField",e.newIndex)},saveForms:function(){var e=this;e.loading=!0;var t={requiredFields:e.requiredFields,forms:e.forms};e.$http.post("".concat(stm_lms_ajaxurl,"?action=stm_lms_save_forms&nonce=").concat(stm_lms_nonces.stm_lms_save_forms),t).then((function(t){e.loading=!1}))}},created:function(){document.addEventListener("click",this.documentClick)},destroyed:function(){document.removeEventListener("click",this.documentClick)}});