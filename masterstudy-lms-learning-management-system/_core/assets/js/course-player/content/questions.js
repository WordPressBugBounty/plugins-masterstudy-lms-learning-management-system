"use strict";!function(e){e(document).ready((function(){function s(e){var s=e.attr("data-number-question"),t=e.parent().closest(".masterstudy-course-player-question"),a=e.closest(".masterstudy-course-player-quiz__questions").find(".masterstudy-course-player-question").not(".masterstudy-course-player-question_question-bank").not('[data-number-question="'.concat(s,'"]'));t.hasClass("masterstudy-course-player-question_question-bank")&&t.removeClass("masterstudy-course-player-question_hide"),e.removeClass("masterstudy-course-player-question_hide"),a.addClass("masterstudy-course-player-question_hide")}var t,a;"undefined"!=typeof MasterstudyAudioPlayer&&MasterstudyAudioPlayer.init({selector:".masterstudy-audio-player",showDeleteButton:!1}),e(".masterstudy-course-player-quiz__pagination .masterstudy-pagination__item-block").click((function(){e('.masterstudy-course-player-quiz__form [data-number-question="'.concat(e(this).data("id"),'"]')).each((function(){s(e(this))}))})),e(".masterstudy-course-player-quiz__pagination .masterstudy-pagination__button-next").click((function(){var t=e(this).parent().find(".masterstudy-pagination__item_current .masterstudy-pagination__item-block").data("id");e('.masterstudy-course-player-quiz__form [data-number-question="'.concat(t+1,'"]')).each((function(){s(e(this))}))})),e(".masterstudy-course-player-quiz__pagination .masterstudy-pagination__button-prev").click((function(){var t=e(this).parent().find(".masterstudy-pagination__item_current .masterstudy-pagination__item-block").data("id");e('.masterstudy-course-player-quiz__form [data-number-question="'.concat(t-1,'"]')).each((function(){s(e(this))}))})),e(".masterstudy-course-player-quiz__pagination").length>0&&(t=e(".masterstudy-course-player-quiz__pagination .masterstudy-pagination__item"),e(".masterstudy-course-player-question:not(.masterstudy-course-player-question_question-bank)").each((function(){if(e(this).hasClass("masterstudy-course-player-question_correct")||e(this).hasClass("masterstudy-course-player-question_wrong")){var s=e(this).data("number-question")-1;t.eq(s).find(".masterstudy-pagination__item-indicator").addClass("masterstudy-pagination__item-indicator_done")}})),e(".masterstudy-course-player-question:not(.masterstudy-course-player-question_question-bank)").on("click mouseleave touchend",(function(){if(!e(".masterstudy-course-player-quiz").hasClass("masterstudy-course-player-quiz_show-answers")){var s=!1,t=e(".masterstudy-course-player-quiz__pagination .masterstudy-pagination__item");e(this).find("input").each((function(t,a){switch(e(a).prop("type")){case"radio":case"checkbox":e(a).prop("checked")&&(s=!0);break;case"hidden":s=!1;break;default:e(a).val()&&(s=!0)}if(s)return!1}));var a=e(this).data("number-question")-1;s?t.eq(a).find(".masterstudy-pagination__item-indicator").addClass("masterstudy-pagination__item-indicator_done"):t.eq(a).find(".masterstudy-pagination__item-indicator").removeClass("masterstudy-pagination__item-indicator_done")}}))),e(document).on("click",".masterstudy-course-player-answer",(function(s){if(!e(".masterstudy-course-player-quiz").hasClass("masterstudy-course-player-quiz_show-answers")){var t=e(this).find("input");t.is(":radio")?(t.prop("checked",!0),e(this).siblings(".masterstudy-course-player-answer").find("input:radio").prop("checked",!1),e(this).addClass("masterstudy-course-player-answer_checked"),e(this).find(".masterstudy-course-player-answer__radio").addClass("masterstudy-course-player-answer__radio_checked"),e(this).siblings(".masterstudy-course-player-answer").removeClass("masterstudy-course-player-answer_checked"),e(this).siblings(".masterstudy-course-player-answer").find(".masterstudy-course-player-answer__radio").removeClass("masterstudy-course-player-answer__radio_checked")):t.is(":checkbox")&&(t.prop("checked")?(t.prop("checked",!1),e(this).removeClass("masterstudy-course-player-answer_checked"),e(this).find(".masterstudy-course-player-answer__checkbox").removeClass("masterstudy-course-player-answer__checkbox_checked")):(t.prop("checked",!0),e(this).addClass("masterstudy-course-player-answer_checked"),e(this).find(".masterstudy-course-player-answer__checkbox").addClass("masterstudy-course-player-answer__checkbox_checked")))}})),e(".masterstudy-course-player-quiz-keywords__keyword-to-fill").on("keyup",(function(){clearTimeout(a);var s=e(this),t=s.closest(".masterstudy-course-player-quiz-keywords"),r=window[t.attr("data-quiz-keywords")],i=s.val().toLowerCase();t.find(".masterstudy-course-player-quiz-keywords__input").removeAttr("required"),a=setTimeout((function(){r.forEach((function(a,u){if(i.includes(a)){s.val("").focus();var o=t.find(".masterstudy-course-player-quiz-keywords__answer_"+u+" .masterstudy-course-player-quiz-keywords__value"),n=t.find(".masterstudy-course-player-quiz-keywords__flying-word").text(a),d=o.offset(),c=o.closest(".masterstudy-course-player-quiz-keywords").offset();n.addClass("visible").css({top:d.top-c.top+0,left:d.left-c.left+0}),setTimeout((function(){o.text(a),r[u]="(^-^*)/",n.text("").css({top:"20px",left:"14px"}).removeClass("visible"),e(".masterstudy-course-player-quiz-keywords").each((function(){var s=e(this).find(".masterstudy-course-player-quiz-keywords__answer .masterstudy-course-player-quiz-keywords__value").map((function(){return e(this).text().trim()})).get().filter(Boolean),t=e(this).find(".masterstudy-course-player-quiz-keywords__input"),a="[stm_lms_keywords]"+s.join("[stm_lms_sep]");s.length&&t.val(a)}))}),500)}}))}),300)}));var r=null;e(".masterstudy-pagination__item-block, .masterstudy-tabs-pagination__item-block").click((function(){for(var e=document.getElementsByTagName("video"),s=0;s<e.length;s++)e[s].pause()}));for(var i=function(){r&&r!=this&&r.pause(),r=this},u=document.getElementsByTagName("video"),o=0;o<u.length;o++)u[o].addEventListener("play",i)}))}(jQuery);