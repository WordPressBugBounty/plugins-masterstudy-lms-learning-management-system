"use strict";function _typeof(e){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(e)}function _regeneratorRuntime(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */_regeneratorRuntime=function(){return t};var e,t={},r=Object.prototype,o=r.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},s="function"==typeof Symbol?Symbol:{},a=s.iterator||"@@iterator",i=s.asyncIterator||"@@asyncIterator",u=s.toStringTag||"@@toStringTag";function d(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{d({},"")}catch(e){d=function(e,t,r){return e[t]=r}}function l(e,t,r,o){var s=t&&t.prototype instanceof h?t:h,a=Object.create(s.prototype),i=new I(o||[]);return n(a,"_invoke",{value:P(e,r,i)}),a}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var y="suspendedStart",m="suspendedYield",p="executing",v="completed",f={};function h(){}function _(){}function w(){}var b={};d(b,a,(function(){return this}));var g=Object.getPrototypeOf,q=g&&g(g(L([])));q&&q!==r&&o.call(q,a)&&(b=q);var k=w.prototype=h.prototype=Object.create(b);function T(e){["next","throw","return"].forEach((function(t){d(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function r(n,s,a,i){var u=c(e[n],e,s);if("throw"!==u.type){var d=u.arg,l=d.value;return l&&"object"==_typeof(l)&&o.call(l,"__await")?t.resolve(l.__await).then((function(e){r("next",e,a,i)}),(function(e){r("throw",e,a,i)})):t.resolve(l).then((function(e){d.value=e,a(d)}),(function(e){return r("throw",e,a,i)}))}i(u.arg)}var s;n(this,"_invoke",{value:function(e,o){function n(){return new t((function(t,n){r(e,o,t,n)}))}return s=s?s.then(n,n):n()}})}function P(t,r,o){var n=y;return function(s,a){if(n===p)throw Error("Generator is already running");if(n===v){if("throw"===s)throw a;return{value:e,done:!0}}for(o.method=s,o.arg=a;;){var i=o.delegate;if(i){var u=E(i,o);if(u){if(u===f)continue;return u}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(n===y)throw n=v,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);n=p;var d=c(t,r,o);if("normal"===d.type){if(n=o.done?v:m,d.arg===f)continue;return{value:d.arg,done:o.done}}"throw"===d.type&&(n=v,o.method="throw",o.arg=d.arg)}}}function E(t,r){var o=r.method,n=t.iterator[o];if(n===e)return r.delegate=null,"throw"===o&&t.iterator.return&&(r.method="return",r.arg=e,E(t,r),"throw"===r.method)||"return"!==o&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+o+"' method")),f;var s=c(n,t.iterator,r.arg);if("throw"===s.type)return r.method="throw",r.arg=s.arg,r.delegate=null,f;var a=s.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,f):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,f)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function L(t){if(t||""===t){var r=t[a];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,s=function r(){for(;++n<t.length;)if(o.call(t,n))return r.value=t[n],r.done=!1,r;return r.value=e,r.done=!0,r};return s.next=s}}throw new TypeError(_typeof(t)+" is not iterable")}return _.prototype=w,n(k,"constructor",{value:w,configurable:!0}),n(w,"constructor",{value:_,configurable:!0}),_.displayName=d(w,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===_||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,d(e,u,"GeneratorFunction")),e.prototype=Object.create(k),e},t.awrap=function(e){return{__await:e}},T(x.prototype),d(x.prototype,i,(function(){return this})),t.AsyncIterator=x,t.async=function(e,r,o,n,s){void 0===s&&(s=Promise);var a=new x(l(e,r,o,n),s);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},T(k),d(k,u,"Generator"),d(k,a,(function(){return this})),d(k,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var o in t)r.push(o);return r.reverse(),function e(){for(;r.length;){var o=r.pop();if(o in t)return e.value=o,e.done=!1,e}return e.done=!0,e}},t.values=L,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var r in this)"t"===r.charAt(0)&&o.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(o,n){return i.type="throw",i.arg=t,r.next=o,n&&(r.method="next",r.arg=e),!!n}for(var s=this.tryEntries.length-1;s>=0;--s){var a=this.tryEntries[s],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var u=o.call(a,"catchLoc"),d=o.call(a,"finallyLoc");if(u&&d){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!d)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&o.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var s=n;break}}s&&("break"===e||"continue"===e)&&s.tryLoc<=t&&t<=s.finallyLoc&&(s=null);var a=s?s.completion:{};return a.type=e,a.arg=t,s?(this.method="next",this.next=s.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),C(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var o=r.completion;if("throw"===o.type){var n=o.arg;C(r)}return n}}throw Error("illegal catch attempt")},delegateYield:function(t,r,o){return this.delegate={iterator:L(t),resultName:r,nextLoc:o},"next"===this.method&&(this.arg=e),f}},t}function asyncGeneratorStep(e,t,r,o,n,s,a){try{var i=e[s](a),u=i.value}catch(e){return void r(e)}i.done?t(u):Promise.resolve(u).then(o,n)}function _asyncToGenerator(e){return function(){var t=this,r=arguments;return new Promise((function(o,n){var s=e.apply(t,r);function a(e){asyncGeneratorStep(s,o,n,a,i,"next",e)}function i(e){asyncGeneratorStep(s,o,n,a,i,"throw",e)}a(void 0)}))}}!function(e){e(document).ready((function(){var t,r,o,n,s,a,i=e(".masterstudy-course-player-lesson-video__wrapper"),u=e(".masterstudy-course-player-lesson-video"),d=e(".masterstudy-course-player-lesson-video__container"),l=e(".masterstudy-course-player-lesson-video__play-button"),c=e("#current-video-progress"),y=e("#current-video-progress-user"),m=document.getElementById("videoPlayer"),p=parseInt(e("#required-video-progress").data("required-progress"),10)||0,v=null!==(t=video_player_data.video_markers)&&void 0!==t?t:[],f=null!==(r=video_player_data.video_questions)&&void 0!==r?r:[],h=null!==(o=video_player_data.video_questions_stats.total)&&void 0!==o?o:0,_=null!==(n=video_player_data.questions_must_done)&&void 0!==n&&n,w=e("#current-questions-progress-user"),b=e("#current-questions-progress"),g=null!==(s=video_player_data.video_questions_stats.completed)&&void 0!==s?s:0,q=null!==(a=video_player_data.video_questions_stats.answered)&&void 0!==a?a:0,k=parseInt(c.data("progress"),10)||0,T=e('[data-id="masterstudy-course-player-lesson-submit"]'),x=e(".masterstudy-course-player-navigation__next .masterstudy-hint"),P=T.attr("data-query"),E=-1,S=!1,C=!0,I=null,L=null,N=null,Y=null,G=null,A=null,O=null,j=0,F=!1;function V(){return M.apply(this,arguments)}function M(){return(M=_asyncToGenerator(_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!I||"function"!=typeof I.seekTo){e.next=3;break}return te("youtube",I),e.abrupt("return");case 3:return e.next=5,R();case 5:return e.next=7,D();case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R(){return new Promise((function(e){if(window.YT&&"function"==typeof window.YT.Player)e();else{var t=document.createElement("script");t.src="https://www.youtube.com/iframe_api";var r=document.getElementsByTagName("script")[0];r.parentNode.insertBefore(t,r),window.onYouTubeIframeAPIReady=function(){e()}}}))}function D(){return new Promise((function(e){if(window.YT&&window.YT.Player){I=new YT.Player("videoPlayer",{events:{onStateChange:H}});var t=setInterval((function(){I&&"function"==typeof I.seekTo&&(clearInterval(t),e())}),500)}else e()}))}(k<p||_&&g<h)&&(T.attr("disabled",1),T.addClass("masterstudy-button_disabled")),(O=e(".masterstudy-course-player-lesson-video__wrapper video")).length&&(te("html5",O.get(0)),O.click((function(){e(this).siblings("span").hide()})),e("body").on("click",".masterstudy-timecode",(function(){if(!video_player_data.strict_mode&&!e(".masterstudy-lesson-video-question").hasClass("masterstudy-lesson-video-question_show")){var t=parseInt(e(this).data("timecode"),10);isNaN(t)||(A=O.get(0))&&(u[0].scrollIntoView({behavior:"smooth",block:"start"}),A.currentTime=t,A.paused&&A.play())}})),O.on("timeupdate",(function(){F||Z(this.currentTime)}))),i.length&&l.length&&(l.click((function(){l.hide(),i.find("video").get(0).play()})),i.on("play",(function(){l.hide()})),i.on("pause",(function(){window.matchMedia("(max-width: 576px)").matches||l.show()}))),m&&("youtube"!==video_player_data.video_type||video_player_data.plyr_youtube_player?"vimeo"!==video_player_data.video_type||video_player_data.plyr_vimeo_player||(te("vimeo",L=new Vimeo.Player(m)),L.on("timeupdate",(function(e){F||(W(e.seconds,e.duration),Z(e.seconds))})),L.on("ended",X),e("body").on("click",".masterstudy-timecode",(function(){if(!video_player_data.strict_mode&&!e(".masterstudy-lesson-video-question").hasClass("masterstudy-lesson-video-question_show")){var t=parseInt(e(this).data("timecode"),10);isNaN(t)||(u[0].scrollIntoView({behavior:"smooth",block:"start"}),L.setCurrentTime(t).then((function(){L.play()})))}}))):(R().then((function(){return D()})),e("body").on("click",".masterstudy-timecode",_asyncToGenerator(_regeneratorRuntime().mark((function t(){var r;return _regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!video_player_data.strict_mode){t.next=2;break}return t.abrupt("return");case 2:if(!e(".masterstudy-lesson-video-question").hasClass("masterstudy-lesson-video-question_show")){t.next=4;break}return t.abrupt("return");case 4:if(r=parseInt(e(this).data("timecode"),10),!isNaN(r)){t.next=7;break}return t.abrupt("return");case 7:return u[0].scrollIntoView({behavior:"smooth",block:"start"}),t.next=10,V();case 10:I&&"function"==typeof I.seekTo&&(I.seekTo(r,!0),setTimeout(_asyncToGenerator(_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(I.getPlayerState()===YT.PlayerState.PLAYING){e.next=4;break}return e.next=4,I.playVideo();case 4:setTimeout(_asyncToGenerator(_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(I.getPlayerState()===YT.PlayerState.PLAYING){e.next=4;break}return e.next=4,I.playVideo();case 4:case"end":return e.stop()}}),e)}))),500);case 5:case"end":return e.stop()}}),e)}))),300));case 11:case"end":return t.stop()}}),t,this)}))))));var U=document.querySelector(".masterstudy-course-player-lesson-video .masterstudy-plyr-video-player");if(U){N=new Plyr(e(U),{invertTime:!0,markers:{enabled:!0,points:v}});var J=e("<div>").addClass("plyr-overlay"),z=e(N).find("iframe");z.length&&(z.before(J),z.after(J.clone())),te("plyr",N),N.on("timeupdate",(function(e){var t=e.detail.plyr.currentTime||0,r=e.detail.plyr.duration||0;F||(W(t,r),Z(t))})),N.on("ended",X),e("body").on("click",".masterstudy-timecode",(function(){if(!video_player_data.strict_mode&&!e(".masterstudy-lesson-video-question").hasClass("masterstudy-lesson-video-question_show")){var t=parseInt(e(this).data("timecode"),10);isNaN(t)||(u[0].scrollIntoView({behavior:"smooth",block:"start"}),"youtube"===video_player_data.video_type?N.embed&&N.embed.playVideo&&(N.embed.seekTo(t,!0),N.embed.getPlayerState()!==YT.PlayerState.PLAYING&&(N.embed.playVideo(),N.play())):"vimeo"===video_player_data.video_type?N.embed&&N.embed.setCurrentTime&&N.embed.setCurrentTime(t).then((function(){N.embed.getPaused().then((function(e){e&&(N.embed.play(),N.play())}))})):(N.currentTime=t,N.paused&&N.play()))}}))}(Y=document.querySelector(".masterstudy-course-player-lesson-video presto-player"))&&(te("presto",Y),wp.hooks.addAction("presto.playerTimeUpdate","masterstudy-presto-time-update",(function(e){var t=e.currentTime||0,r=e.duration||0;F||(W(t,r),Z(t))})),wp.hooks.addAction("presto.playerEnded","masterstudy-presto-ended",(function(e){X()})),e("body").on("click",".masterstudy-timecode",(function(){if(!video_player_data.strict_mode&&!e(".masterstudy-lesson-video-question").hasClass("masterstudy-lesson-video-question_show")){var t=parseInt(e(this).data("timecode"),10);isNaN(t)||(u[0].scrollIntoView({behavior:"smooth",block:"start"}),Y.currentTime=t,Y.playerPlaying||Y.play())}})));var B=document.querySelector('.masterstudy-course-player-lesson-video iframe[src*="vdocipher.com"]');function Q(e){O.length&&(A=O.get(0))&&(A.currentTime=e,A.paused&&A.play()),I&&"function"==typeof I.seekTo&&(I.seekTo(e,!0),I.getPlayerState()!==YT.PlayerState.PLAYING&&I.playVideo()),L&&L.setCurrentTime(e).then((function(){L.play()})),N&&(N.currentTime=e,N.paused&&N.play()),Y&&(Y.currentTime=e,Y.playerPlaying||Y.play()),G&&G.video&&(G.video.currentTime=e,G.video.paused&&G.video.play())}function H(e){e.data==YT.PlayerState.PLAYING||e.data===YT.PlayerState.PAUSED?K():e.data===YT.PlayerState.ENDED&&X()}function K(){if(I){var e=Math.floor(I.getCurrentTime())||0,t=Math.floor(I.getDuration())||0,r=I.getPlayerState();if(video_player_data.strict_mode){if(Math.abs(e-j)>1)return F=!0,I.seekTo(j,!0),I.getPlayerState()===YT.PlayerState.PAUSED&&I.playVideo(),void(F=!1);j=e}F||(Z(e),W(e,t),r!==YT.PlayerState.PLAYING&&r!==YT.PlayerState.PAUSED||requestAnimationFrame(K))}}function W(e,t){if(!(C&&k>0)&&(C=!1,t>0&&video_player_data.video_progress)){var r=Math.floor(e/t*100);if(k>=p&&(h>0&&_?g===h&&(x.hide(),T.removeAttr("disabled"),T.removeClass("masterstudy-button_disabled")):(x.hide(),T.removeAttr("disabled"),T.removeClass("masterstudy-button_disabled"))),k>r)return;if(r>100&&(k=100),k=r,P){var o=JSON.parse(P);o.progress=k,T.attr("data-query",JSON.stringify(o))}c&&(y.text("".concat(k,"%")),c.css("width","".concat(k,"%")),c.attr("data-progress",k))}}function X(){if(c&&video_player_data.video_progress){if(k=100,P){var e=JSON.parse(P);e.progress=k,T.attr("data-query",JSON.stringify(e)),h>0&&_?g===h&&(x.hide(),T.removeAttr("disabled"),T.removeClass("masterstudy-button_disabled")):(x.hide(),T.removeAttr("disabled"),T.removeClass("masterstudy-button_disabled"))}y.text("".concat(k,"%")),c.css("width","".concat(k,"%")),c.attr("data-progress",k)}}function Z(t){var r=Math.floor(t);r!==E&&(E=r,f.forEach((function(t){var o=e("#".concat(t.id)),n=t.marker;r!==parseInt(n)||o.hasClass("masterstudy-lesson-video-question_completed")||o.hasClass("masterstudy-lesson-video-question_show")||((document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)&&(S=!0,document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen()),ee(!0),e(".masterstudy-lesson-video-question").removeClass("masterstudy-lesson-video-question_show"),o.addClass("masterstudy-lesson-video-question_show"),d.hide())})))}function $(){if(h>0){var e=++q/h*100;b.css("width",e+"%")}}function ee(e){if(O.length){var t=O.get(0);t&&(e?t.pause():t.play())}I&&(e?I.pauseVideo():I.playVideo()),L&&(e?L.pause():L.play()),Y&&(e?Y.pause():Y.play()),N&&(e?N.pause():N.play()),G&&G.video&&(e?G.video.pause():G.video.play())}function te(e,t){if(t&&video_player_data.strict_mode)switch(e){case"html5":t.addEventListener("timeupdate",(function(){var e=t.currentTime;if(Math.abs(e-j)>1)return t.currentTime=j,void(F=!0);j=e,F=!1}));break;case"vimeo":t.on("timeupdate",(function(e){var r=e.seconds;if(Math.abs(r-j)>1)return t.setCurrentTime(j),void(F=!0);j=r,F=!1}));break;case"plyr":t.on("timeupdate",(function(e){var r=t.currentTime;if(Math.abs(r-j)>1)return t.currentTime=j,void(F=!0);j=r,F=!1}));break;case"presto":wp.hooks.addAction("presto.playerTimeUpdate","track-presto-time",(function(e){var t=e.currentTime;if(Math.abs(t-j)>1)return e.currentTime=j,void(F=!0);j=t,F=!1}));break;case"vdocipher":t.video.addEventListener("timeupdate",(function(){var e=t.video.currentTime;if(Math.abs(e-j)>1)return t.video.currentTime=j,void(F=!0);j=e,F=!1}))}}B&&(G=VdoPlayer.getInstance(B))&&G.video&&(te("vdocipher",G),G.video.addEventListener("timeupdate",(function(){var e=G.video.currentTime||0,t=G.video.duration||0;F||(W(e,t),Z(e))})),G.video.addEventListener("ended",X),e("body").on("click",".masterstudy-timecode",(function(){if(!video_player_data.strict_mode&&!e(".masterstudy-lesson-video-question").hasClass("masterstudy-lesson-video-question_show")){var t=parseInt(e(this).data("timecode"),10);isNaN(t)||(u[0].scrollIntoView({behavior:"smooth",block:"start"}),G.video.currentTime=t)}}))),e("body").on("click",'[data-id="masterstudy-video-question-skip"], [data-id="masterstudy-video-question-continue"]',(function(){e(".masterstudy-lesson-video-question").removeClass("masterstudy-lesson-video-question_show"),d.show(),ee(),S&&function(){N&&N.fullscreen.enter();S=!1}()})),e("body").on("click",".masterstudy-lesson-video-list-question",(function(){var t=parseInt(e(this).data("marker"),10);if(!isNaN(t)&&!e(this).hasClass("masterstudy-lesson-video-list-question_completed")){var r=e(this).hasClass("masterstudy-lesson-video-list-question_failed");if(r||!video_player_data.strict_mode)e('.masterstudy-lesson-video-question[data-marker="'+t+'"]').hasClass("masterstudy-lesson-video-question_show")||(E=-1,r&&video_player_data.strict_mode&&(F=!1,j=t,Z(t)),u[0].scrollIntoView({behavior:"smooth",block:"start"}),Q(t),r&&video_player_data.strict_mode&&ee(!0))}})),e("body").on("click",'[data-id="masterstudy-video-question-rewatch"]',(function(t){t.preventDefault();var r=e(this).closest(".masterstudy-lesson-video-question");if(r.hasClass("masterstudy-lesson-video-question_answered")){var o=parseInt(w.text(),10)||0;if(o>0){w.text(o-1);var n=--q/h*100;b.css("width",n+"%")}}r.removeClass("masterstudy-lesson-video-question_show masterstudy-lesson-video-question_answered masterstudy-lesson-video-question_failed"),d.show(),r.find(".masterstudy-lesson-video-question__answer").removeClass("masterstudy-lesson-video-question__answer_selected masterstudy-lesson-video-question__answer_failed masterstudy-lesson-video-question__answer_completed"),r.find(".masterstudy-lesson-video-question__radio_checked, .masterstudy-lesson-video-question__checkbox_checked").removeClass("masterstudy-lesson-video-question__radio_checked masterstudy-lesson-video-question__checkbox_checked"),r.find('input[type="radio"], input[type="checkbox"]').prop("checked",!1);var s=parseInt(e(this).parent().data("rewatch"),10);video_player_data.strict_mode&&(F=!1,j=s),isNaN(s)||Q(s)})),e("body").on("click",'[data-id="masterstudy-video-question-submit"]',(function(t){t.preventDefault();var r=e(this),o=e(this).closest(".masterstudy-lesson-video-question"),n=o.attr("id"),s=e(".masterstudy-lesson-video-list-question").filter((function(){return e(this).attr("id")===n})),a=o.find("input:checked").map((function(){return e(this).attr("id")})).get(),i=a.join(",");e.ajax({url:stm_lms_ajaxurl,type:"POST",data:{action:"stm_lms_answer_video_lesson",nonce:video_player_data.video_questions_nonce,course_id:parseInt(video_player_data.course_id),lesson_id:parseInt(video_player_data.lesson_id),question_id:parseInt(n),user_answer:i},beforeSend:function(){r.addClass("masterstudy-button_loading")},success:function(e){if("correct"===e.result){var t=parseInt(w.text())||0;w.text(t+1),o.addClass("masterstudy-lesson-video-question_answered masterstudy-lesson-video-question_completed"),s.removeClass("masterstudy-lesson-video-list-question_failed").addClass("masterstudy-lesson-video-list-question_completed"),a.forEach((function(e){o.find("#"+e).closest(".masterstudy-lesson-video-question__answer").addClass("masterstudy-lesson-video-question__answer_selected masterstudy-lesson-video-question__answer_completed")})),g++,$(),console.log(k),_&&g===h&&k>=p&&(x.hide(),T.removeAttr("disabled"),T.removeClass("masterstudy-button_disabled"))}else if("wrong"===e.result){var r=parseInt(w.text())||0;w.text(r+1),o.addClass("masterstudy-lesson-video-question_answered masterstudy-lesson-video-question_failed"),s.removeClass("masterstudy-lesson-video-list-question_completed").addClass("masterstudy-lesson-video-list-question_failed"),a.forEach((function(t){var r=o.find("#"+t).closest(".masterstudy-lesson-video-question__answer"),n=e.user_answer.find((function(e){return e.id==t}));n&&("correct"===n.status?r.addClass("masterstudy-lesson-video-question__answer_selected masterstudy-lesson-video-question__answer_completed"):r.addClass("masterstudy-lesson-video-question__answer_selected masterstudy-lesson-video-question__answer_failed"))})),$()}},complete:function(){r.removeClass("masterstudy-button_loading")}})}))}))}(jQuery);