"use strict";!function(t){t(document).ready((function(){if("undefined"!=typeof MasterstudyAudioPlayer&&MasterstudyAudioPlayer.init({selector:".masterstudy-audio-player",showDeleteButton:!1}),"file"===audio_data.audio_type){var e=document.querySelector(".masterstudy-audio-player audio");e&&y(e)}if("ext_link"===audio_data.audio_type){var a=document.querySelector(".audio-external-links-type"),r=t("#current-audio-progress"),s=t("#current-audio-progress-user"),d=parseInt(t("#current-audio-progress").data("progress"),10)||0,i=parseInt(t("#required-audio-progress").data("required-progress"),10)||0,o=t('[data-id="masterstudy-course-player-lesson-submit"]'),u=t(".masterstudy-course-player-navigation__next .masterstudy-hint"),n=o.attr("data-query"),c=!0;d<i&&(o.attr("disabled",1),o.addClass("masterstudy-button_disabled")),a&&(audio_data.audio_progress&&(a.addEventListener("timeupdate",(function(){!function(t,e){if(!(c&&d>0)&&(c=!1,e>0)){var a=Math.floor(t/e*100);if(d>=i&&(u.hide(),o.removeAttr("disabled"),o.removeClass("masterstudy-button_disabled")),d>a)return;if(a>100&&(d=100),d=a,n){var y=JSON.parse(n);y.progress=d,o.attr("data-query",JSON.stringify(y))}r&&(s.text("".concat(d,"%")),r.css("width","".concat(d,"%")),r.attr("data-progress",d))}}(a.currentTime||0,a.duration||0)})),a.addEventListener("ended",(function(){if(r){if(d=100,n){var t=JSON.parse(n);t.progress=d,o.attr("data-query",JSON.stringify(t)),u.hide(),o.removeAttr("disabled"),o.removeClass("masterstudy-button_disabled")}s.text("".concat(d,"%")),r.css("width","".concat(d,"%")),r.attr("data-progress",d)}}))),y(a))}function y(e){t("body").on("click",".masterstudy-timecode",(function(){var a=parseInt(t(this).data("timecode"),10);if(!isNaN(a)){e.currentTime=a,e.play();var r=t(e).closest(".masterstudy-audio-player").find(".masterstudy-audio-player__play-pause-btn__icon");r.length&&r.attr("d","M0 0h6v24H0zM12 0h6v24h-6z")}}))}}))}(jQuery);