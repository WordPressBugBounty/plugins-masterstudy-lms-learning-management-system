"use strict";function _typeof(s){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(s){return typeof s}:function(s){return s&&"function"==typeof Symbol&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},_typeof(s)}function hide_button(s,t){var e=s.closest(".stm_lms_courses").find("[data-pages]:last"),o=e.attr("data-pages");parseInt(o)===t||parseInt(o)<t||!e.length?(s.slideUp(),s.closest(".stm_lms_courses").addClass("all_loaded")):(s.slideDown(),s.closest(".stm_lms_courses").removeClass("all_loaded"))}!function(s){window.addEventListener("load",(function(){document.querySelectorAll(".coming-soon-card-countdown-container").forEach((function(s){s.clientWidth<220&&s.classList.add("smaller-container")}))})),s(document).ready((function(){var t=s(".stm_lms_load_more_courses");function e(){var t=s(".stm_lms_courses__archive_filter form"),e=s("#lms-search-input").data("action"),o=s("#lms-search-input").val(),a="";if(t.length&&(t.find('input[name="search"]').val(o),a="?"+t.serialize(),history.pushState({},null,location.origin+location.pathname+a),t.submit()),e.trim()){a="?search="+o,history.pushState({},null,location.origin+location.pathname+a);var n=s(".courses_filters .stm_lms_courses_grid__sort select"),r=s(".stm_lms_load_more_courses"),c=s(".stm_lms_courses").find("[data-pages]:last"),i=r.attr("data-args"),l=n.val();r.attr("data-url",a),s.ajax({url:stm_lms_ajaxurl+a,dataType:"json",context:this,data:{offset:0,args:i,sort:l,featured:!1,action:"stm_lms_load_content",nonce:stm_lms_nonces.load_content},beforeSend:function(){c.closest(".stm_lms_courses__archive").addClass("loading"),s([document.documentElement,document.body]).animate({scrollTop:s(".stm_lms_courses__archive").offset().top-130},1e3)},complete:function(t){"object"===_typeof(t=t.responseJSON)&&t.hasOwnProperty("search_title")&&(s(".featured-courses").remove(),s(".featured-head").remove()),c.closest(".stm_lms_courses__archive").removeClass("loading"),c.html(t.content).attr("data-pages",t.pages),r.attr("data-offset",t.page),hide_button(r,t.page)}})}e.trim()&&o.length<=0&&history.pushState({},null,location.origin+location.pathname)}s("body").hasClass("stm_lms_infinite")&&s(window).on("scroll",(function(){t.each((function(){s(this).is(":hidden")||s(this).position().top-100<s(document).scrollTop()&&t.click()}))})),t.on("click",(function(t){if(s(this).is(":hidden"))return!1;if(s(this).hasClass("loading"))return!1;t.preventDefault();var e=s(this).attr("data-offset"),o=s(this).attr("data-args"),a=s(this).closest(".stm_lms_courses").find("[data-pages]:last"),n=a.attr("data-pages"),r=s(this).attr("data-url"),c=s(".courses_filters .stm_lms_courses_grid__sort select"),i={offset:e,args:o,action:"stm_lms_load_content",nonce:stm_lms_nonces.load_content};if(c.length&&(i.sort=c.val()),n==e)return!1;s.ajax({url:stm_lms_ajaxurl+r,dataType:"json",context:this,data:i,beforeSend:function(){s(this).addClass("loading")},complete:function(t){t=t.responseJSON,s(this).removeClass("loading"),"object"===_typeof(t)&&t.hasOwnProperty("search_title")&&s(".courses_filters__title").find(".lms-courses-search-result").html(t.search_title),a.append(t.content),s(this).attr("data-offset",t.page),hide_button(s(this),t.page)}})})),t.each((function(){hide_button(s(this),1)})),"undefined"!=typeof courses_view&&"list"===courses_view.type?s(".stm_lms_courses_wrapper").addClass("stm_lms_courses_list_view"):"undefined"!=typeof courses_view&&"grid"===courses_view.type&&s(".stm_lms_courses_wrapper").addClass("stm_lms_courses_grid_view"),s("#lms-search-btn").on("click",(function(){e()})),s("#lms-search-input").keypress((function(s){"13"==(s.keyCode?s.keyCode:s.which)&&e()})),s("#ms-lms-multi-instructors-zero-co-courses-found").length&&s(".masterstudy-lms-public-account-courses-tabs .tabs").css("display","none"),s(".masterstudy-lms-public-account-courses-tabs li").click((function(){s(".masterstudy-lms-public-account-courses-tabs li").removeClass("active"),s(this).addClass("active");var t=s(this).attr("id");"tab_co_courses"===t?(s("#stm_lms_instructor_co_courses").removeClass("inactive"),s("#stm_lms_instructor_courses").addClass("inactive")):"tab_courses"===t&&(s("#stm_lms_instructor_co_courses").addClass("inactive"),s("#stm_lms_instructor_courses").removeClass("inactive"))})),s(".stm-lms-public-instructor").length>0&&s(".stm_lms_instructor_co_courses .stm_lms_instructor_courses__top").css("display","none")}))}(jQuery);