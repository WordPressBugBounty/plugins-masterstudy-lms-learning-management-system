"use strict";function _typeof(e){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_toPropertyKey(r.key),r)}}function _createClass(e,t,a){return t&&_defineProperties(e.prototype,t),a&&_defineProperties(e,a),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return"symbol"==_typeof(t)?t:t+""}function _toPrimitive(e,t){if("object"!=_typeof(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!=_typeof(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}!function(e){var t=function(){function t(){_classCallCheck(this,t),this.pagerSelector="single-pager",this.pages=e(".stm_lms_paginated_quiz_question"),this.pagerWrapper=e(".stm_lms_paginated_quiz_pager"),this.pager="",this.active=0,this.$currentQuestion=e(".stm_lms_paginated_quiz_number .current_q"),this.createPager(),this.activateQuestion(),this.pagerClick(),this.watchQuestion(),e(".answers_shown").length&&this.markAnswers()}return _createClass(t,[{key:"activateQuestion",value:function(){this.pages.removeClass("active"),this.pages.eq(this.active).addClass("active"),this.pagerWrapper.find(".".concat(this.pagerSelector)).removeClass("active"),this.pagerWrapper.find(".".concat(this.pagerSelector)).eq(this.active).addClass("active"),this.$currentQuestion.text(this.active+1),stm_lms_item_match_resize()}},{key:"createPager",value:function(){this.pagerWrapper.append('<div class="pager-prev"><i class="fa fa-arrow-left"></i></div>');for(var e=0;e<this.pages.length;e++)this.pagerWrapper.append('<div class="'.concat(this.pagerSelector,'" data-question="').concat(e,'"><i class="fa fa-circle" data-page="').concat(e+1,'"></i></div>'));this.pagerWrapper.append('<div class="pager-next"><i class="fa fa-arrow-right"></i></div>')}},{key:"pagerClick",value:function(){var t=this;this.pagerWrapper.on("click",".pager-prev",(function(e){t.active>0&&(t.active=t.active-1),t.activateQuestion(),t.removeNextPrev()})),this.pagerWrapper.on("click",".".concat(this.pagerSelector),(function(a){t.active=e(a.currentTarget).data("question"),t.activateQuestion(),t.removeNextPrev()})),this.pagerWrapper.on("click",".pager-next",(function(a){t.active<=e(".".concat(t.pagerSelector)).length-2&&(t.active=t.active+1),t.activateQuestion(),t.removeNextPrev()})),this.removeNextPrev()}},{key:"watchQuestion",value:function(){var t=this;e(".stm_lms_paginated_quiz_question").on("click mouseover",(function(){t.watchInputs()}))}},{key:"removeNextPrev",value:function(){var t=this.pagerWrapper.find(".pager-prev"),a=this.pagerWrapper.find(".pager-next");this.active<=0?(t.addClass("hidden"),a.removeClass("hidden")):this.active>=e(".".concat(this.pagerSelector)).length-1?(t.removeClass("hidden"),a.addClass("hidden")):(t.removeClass("hidden"),a.removeClass("hidden"))}},{key:"watchInputs",value:function(){var t=this;e(".stm_lms_paginated_quiz_question").each((function(a,r){var i=e(r),s=e("body").find(".single-pager"),n=!1;i.find("input").each((function(t,a){var r=e(a);switch(r.attr("type")){case"radio":case"checkbox":r.is(":checked")&&(n=!0);break;case"hidden":n=!1;break;default:r.val()&&(n=!0)}})),n?s.eq(a).addClass("hasAnswer"):s.eq(a).removeClass("hasAnswer"),t.enableSubmit()}))}},{key:"enableSubmit",value:function(){var t=e(".stm_lms_complete_lesson"),a=e("body").find(".single-pager"),r=!0;a.each((function(t,a){e(a).hasClass("hasAnswer")||(r=!1)})),r?t.removeAttr("disabled"):a.attr("disabled",!0)}},{key:"markAnswers",value:function(){e(".stm_lms_paginated_quiz_question").each((function(t,a){var r=e(a),i=r.find(".stm-lms-single_question:first");i.hasClass("correct_answer_1")&&e("body").find(".single-pager").eq(t).addClass("correctAnswer");if(i.hasClass("correct_answer_bank")){var s=e("body").find(".single-pager"),n={correct:0,incorrect:0};r.find(".stm_lms_question_bank .stm-lms-single_question").each((function(t,a){e(a).hasClass("correct_answer_1")?n.correct++:n.incorrect++})),console.log(n),s.eq(t).addClass("bank").html('<div class="correct_bank">'.concat(n.correct,'</div><div class="incorrect_bank">').concat(n.incorrect,"</div>"))}}))}}]),t}();e(document).ready((function(){new t}))}(jQuery);