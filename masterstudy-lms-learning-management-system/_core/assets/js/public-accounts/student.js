"use strict";!function(t){var s,e=null,a=!1;function n(){e&&a&&(i(".masterstudy-statistics-block_completed_courses",e.courses_statuses,"courses"),i(".masterstudy-statistics-block_groups",e.courses_types.enterprise_count),i(".masterstudy-statistics-block_certificates",e.certificates),i(".masterstudy-statistics-block_quizzes",e.total_quizzes),i(".masterstudy-statistics-block_points",e.total_points),i(".masterstudy-statistics-block_assignments",e.total_assignments))}function i(t,s){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=document.querySelector(t);if(a){var n=a.querySelector(".masterstudy-statistics-block__value");n&&(n.innerText="courses"===e?s.completed+" / "+s.summary:s,a.querySelector(".masterstudy-stats-loader").style.display="none")}}student_data.show_stats&&(s="".concat(ms_lms_resturl,"/student/stats/").concat(student_data.user),t.ajax({url:s,method:"GET",headers:{"X-WP-Nonce":ms_lms_nonce},dataType:"json",success:function(t){e=t,n()},error:function(t,s,e){console.error("There was a problem with the AJAX operation:",s,e)}})),t(document).ready((function(){a=!0,document.title=student_data.user_login,t(".masterstudy-student-public__list-pagination").on("click",".masterstudy-pagination__item-block",(function(){e(t(this).data("id"))}));var s=t(".masterstudy-form-builder-public-fields");function e(s){var e="".concat(ms_lms_resturl,"/student-courses?page=").concat(s,"&user=").concat(student_data.user,"&pp=").concat(student_data.courses_per_page,"&status=completed"),a=t(".masterstudy-student-public__list"),n=t(".masterstudy-student-public__list-pagination");a.empty(),n.empty(),t(".masterstudy-student-public__loader").addClass("masterstudy-student-public__loader_show"),t.ajax({url:e,method:"GET",headers:{"X-WP-Nonce":stm_lms_vars.wp_rest_nonce},dataType:"json",success:function(e){var i=e.courses;i&&i.length>0&&(i.forEach((function(t){a.append(t)})),e.pagination&&(n.append(e.pagination),initializePagination(parseInt(s),parseInt(e.total_pages)))),t(".masterstudy-student-public__loader").removeClass("masterstudy-student-public__loader_show")},error:function(t,s,e){console.error("There was a problem with the AJAX operation:",s,e)}})}s.length&&""!==s.html().trim()&&t(".masterstudy-student-public__details").css("display","flex"),t(".masterstudy-student-public__details").click((function(){var s=t(".masterstudy-form-builder-public-fields");"none"===s.css("display")?s.css("display","flex"):s.css("display","none"),t(this).toggleClass("masterstudy-student-public__details_hide")})),t(".masterstudy-student-public__list-pagination").on("click",".masterstudy-pagination__button-prev, .masterstudy-pagination__button-next",(function(){if(!t(this).hasClass("masterstudy-pagination__button_disabled")){var s=parseInt(t(".masterstudy-pagination__item_current .masterstudy-pagination__item-block").data("id"));e(t(this).hasClass("masterstudy-pagination__button-next")?s+1:s-1)}})),n()}))}(jQuery);