"use strict";!function(t){t(document).ready((function(){document.title=instructor_data.user_login,t(".masterstudy-tabs__item").click((function(){var s=t(this).data("id");t(this).addClass("masterstudy-tabs__item_active"),t(this).siblings().removeClass("masterstudy-tabs__item_active"),"reviews"===s?(t(".masterstudy-instructor-public__list-header").addClass("masterstudy-instructor-public__list-header_active"),a(1,s,t('input[name="reviews-search"]').val(),t("#reviews-rating").val())):(t(".masterstudy-instructor-public__list-header").removeClass("masterstudy-instructor-public__list-header_active"),a(1,s))}));var s=t(".masterstudy-form-builder-public-fields"),e=t(".masterstudy-instructor-public__description");function a(s,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"all",i="",n=instructor_data.courses_per_page;"reviews"===e?(n=instructor_data.reviews_per_page,i="".concat(ms_lms_resturl,"/instructor-reviews?page=").concat(s,"&user=").concat(instructor_data.user,"&pp=").concat(n),a&&(i+="&course=".concat(encodeURIComponent(a))),r&&"all"!==r&&(i+="&rating=".concat(encodeURIComponent(r)))):"bundles"===e?(n=instructor_data.bundles_per_page,i="".concat(ms_lms_resturl,"/instructor-bundles?page=").concat(s,"&user=").concat(instructor_data.user,"&pp=").concat(n)):"co-owned"===e?(n=instructor_data.co_owned_per_page,i="".concat(ms_lms_resturl,"/instructor-co-owned-courses?page=").concat(s,"&user=").concat(instructor_data.user,"&pp=").concat(n)):i="".concat(ms_lms_resturl,"/instructor-public-courses?page=").concat(s,"&user=").concat(instructor_data.user,"&pp=").concat(n),"undefined"!=typeof pll_current_language&&(i+="&lang=".concat(pll_current_language)),t(".masterstudy-instructor-public__empty").removeClass("masterstudy-instructor-public__empty_show");var c=t(".masterstudy-instructor-public__list"),u=t(".masterstudy-instructor-public__list-pagination");c.empty(),u.empty(),t(".masterstudy-instructor-public__loader").addClass("masterstudy-instructor-public__loader_show"),t.ajax({url:i,method:"GET",headers:{"X-WP-Nonce":stm_lms_vars.wp_rest_nonce},dataType:"json",success:function(a){var r="reviews"===e?a.reviews:a.courses;r&&r.length>0?("reviews"===e&&t(".masterstudy-instructor-public__list-header-total").text(a.total_posts),r.forEach((function(t){c.append(t)})),a.pagination&&(u.append(a.pagination),initializePagination(parseInt(s),parseInt(a.total_pages))),t(".masterstudy-instructor-public__loader").removeClass("masterstudy-instructor-public__loader_show"),"courses"===e&&t(".masterstudy-countdown").each((function(){t(this).countdown({timestamp:t(this).data("timer")})}))):(t(".masterstudy-instructor-public__loader").removeClass("masterstudy-instructor-public__loader_show"),t(".masterstudy-instructor-public__empty").addClass("masterstudy-instructor-public__empty_show"))},error:function(t,s,e){console.error("There was a problem with the AJAX operation:",s,e)}})}(s.length&&""!==s.html().trim()||e.length&&""!==e.text().trim())&&t(".masterstudy-instructor-public__details").css("display","flex"),t(".masterstudy-instructor-public__details").click((function(){t(".masterstudy-instructor-public__details-wrapper").toggleClass("masterstudy-instructor-public__details-wrapper_show"),t(this).toggleClass("masterstudy-instructor-public__details_hide")})),t(".masterstudy-instructor-public__list-pagination").on("click",".masterstudy-pagination__item-block",(function(){var s=t(this).data("id"),e=t(".masterstudy-tabs__item_active").data("id");"reviews"===e?a(s,e,t('input[name="reviews-search"]').val(),t("#reviews-rating").val()):a(s,e)})),t(".masterstudy-instructor-public__list-pagination").on("click",".masterstudy-pagination__button-prev, .masterstudy-pagination__button-next",(function(){if(!t(this).hasClass("masterstudy-pagination__button_disabled")){var s=parseInt(t(".masterstudy-pagination__item_current .masterstudy-pagination__item-block").data("id")),e=t(".masterstudy-tabs__item_active").data("id"),r=t(this).hasClass("masterstudy-pagination__button-next")?s+1:s-1;"reviews"===e?a(r,e,t('input[name="reviews-search"]').val(),t("#reviews-rating").val()):a(r,e)}})),t(".masterstudy-search__icon").on("click",(function(){a(1,"reviews",t('input[name="reviews-search"]').val(),t("#reviews-rating").val())})),t('input[name="reviews-search"]').on("keypress",(function(s){"Enter"===s.key&&(s.preventDefault(),a(1,"reviews",t(this).val(),t("#reviews-rating").val()))})),t(".masterstudy-search__clear-icon").on("click",(function(){a(1,"reviews","",t("#reviews-rating").val())})),t(".masterstudy-select__option, .masterstudy-select__clear").on("click",(function(){a(1,"reviews",t('input[name="reviews-search"]').val(),t(this).data("value"))}))}))}(jQuery);