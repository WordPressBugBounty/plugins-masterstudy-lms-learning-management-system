"use strict";!function(o){o(document).ready((function(){var n=o(".coming-soon-notify-alert"),s=o(".coming-soon-notify-container"),t=o(".masterstudy-coming-soon-modal"),i=o(".coming-soon-notify-container").find(".masterstudy-button");o(".masterstudy-coming-soon-modal").removeAttr("style"),n.on("click",(function(){o(this).toggleClass("notify-me"),stm_coming_soon_ajax_variable.is_logged||s.css("display","none"===s.css("display")?"flex":"none"),o.ajax({type:"POST",url:stm_coming_soon_ajax_variable.url,data:{action:"coming_soon_notify_me",email:"",nonce:stm_coming_soon_ajax_variable.nonce,id:stm_coming_soon_ajax_variable.course_id},success:function(s){s.success&&(n.addClass("added-email"),t.addClass("masterstudy-coming-soon-modal_active"),o("body").addClass("masterstudy-coming-soon-popup"),o(".masterstudy-coming-soon-modal__title").text(s.title),o(".masterstudy-coming-soon-modal__description").text(s.description))}})})),o(".coming-soon-notify-container input").on("input",(function(){o(this).removeClass("coming-soon-notify-input_alert")})),o(".coming-soon-notify-container input").on("keypress",(function(o){13===o.which&&i.trigger("click")})),o(".masterstudy-coming-soon-modal").on("click",(function(n){n.target===this&&(o(this).removeClass("masterstudy-coming-soon-modal_active"),o("body").removeClass("masterstudy-coming-soon-popup"),o(".coming-soon-notify-container").css("display","none"))})),i.click((function(i){i.preventDefault();var a=o(".coming-soon-notify-container input").val();if(!function(o){return/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/.test(o)}(a))return s.addClass("validation-error"),void o(".coming-soon-notify-container input").addClass("coming-soon-notify-input_alert");o(".coming-soon-notify-container input").removeClass("coming-soon-notify-input_alert"),s.removeClass("validation-error"),o.ajax({type:"POST",url:stm_coming_soon_ajax_variable.url,data:{action:"coming_soon_notify_me",email:a,nonce:stm_coming_soon_ajax_variable.nonce,id:stm_coming_soon_ajax_variable.course_id},beforeSend:function(){o(this).addClass("masterstudy-button_loading")},success:function(s){s.success&&(n.addClass("added-email"),t.addClass("masterstudy-coming-soon-modal_active"),o(".masterstudy-coming-soon-modal__title").text(s.title),o(".masterstudy-coming-soon-modal__description").text(s.description),o("body").addClass("masterstudy-coming-soon-popup"),o(this).removeClass("masterstudy-button_loading"))}})})),o(".masterstudy-coming-soon-modal").find(".masterstudy-coming-soon-modal__close, .masterstudy-button").click((function(n){n.preventDefault(),o(".masterstudy-coming-soon-modal").removeClass("masterstudy-coming-soon-modal_active"),o("body").removeClass("masterstudy-coming-soon-popup"),o(".coming-soon-notify-container").css("display","none")})),o(".stm-curriculum-item .stm-curriculum-item__preview").css("display","none")}))}(jQuery);