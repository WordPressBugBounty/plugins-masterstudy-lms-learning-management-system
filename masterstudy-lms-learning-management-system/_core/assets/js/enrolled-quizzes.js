(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";

function _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }
var _tabsToggle = require("./modules/tabs-toggle.js");
var _quizAttempts = require("./modules/quiz-attempts.js");
var _enrolledQuizzes = require("./modules/enrolled-quizzes.js");
var _config = require("./modules/config.js");
function _regeneratorRuntime() { "use strict"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return e; }; var t, e = {}, r = Object.prototype, n = r.hasOwnProperty, o = Object.defineProperty || function (t, e, r) { t[e] = r.value; }, i = "function" == typeof Symbol ? Symbol : {}, a = i.iterator || "@@iterator", c = i.asyncIterator || "@@asyncIterator", u = i.toStringTag || "@@toStringTag"; function define(t, e, r) { return Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }), t[e]; } try { define({}, ""); } catch (t) { define = function define(t, e, r) { return t[e] = r; }; } function wrap(t, e, r, n) { var i = e && e.prototype instanceof Generator ? e : Generator, a = Object.create(i.prototype), c = new Context(n || []); return o(a, "_invoke", { value: makeInvokeMethod(t, r, c) }), a; } function tryCatch(t, e, r) { try { return { type: "normal", arg: t.call(e, r) }; } catch (t) { return { type: "throw", arg: t }; } } e.wrap = wrap; var h = "suspendedStart", l = "suspendedYield", f = "executing", s = "completed", y = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var p = {}; define(p, a, function () { return this; }); var d = Object.getPrototypeOf, v = d && d(d(values([]))); v && v !== r && n.call(v, a) && (p = v); var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p); function defineIteratorMethods(t) { ["next", "throw", "return"].forEach(function (e) { define(t, e, function (t) { return this._invoke(e, t); }); }); } function AsyncIterator(t, e) { function invoke(r, o, i, a) { var c = tryCatch(t[r], t, o); if ("throw" !== c.type) { var u = c.arg, h = u.value; return h && "object" == _typeof(h) && n.call(h, "__await") ? e.resolve(h.__await).then(function (t) { invoke("next", t, i, a); }, function (t) { invoke("throw", t, i, a); }) : e.resolve(h).then(function (t) { u.value = t, i(u); }, function (t) { return invoke("throw", t, i, a); }); } a(c.arg); } var r; o(this, "_invoke", { value: function value(t, n) { function callInvokeWithMethodAndArg() { return new e(function (e, r) { invoke(t, n, e, r); }); } return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(e, r, n) { var o = h; return function (i, a) { if (o === f) throw Error("Generator is already running"); if (o === s) { if ("throw" === i) throw a; return { value: t, done: !0 }; } for (n.method = i, n.arg = a;;) { var c = n.delegate; if (c) { var u = maybeInvokeDelegate(c, n); if (u) { if (u === y) continue; return u; } } if ("next" === n.method) n.sent = n._sent = n.arg;else if ("throw" === n.method) { if (o === h) throw o = s, n.arg; n.dispatchException(n.arg); } else "return" === n.method && n.abrupt("return", n.arg); o = f; var p = tryCatch(e, r, n); if ("normal" === p.type) { if (o = n.done ? s : l, p.arg === y) continue; return { value: p.arg, done: n.done }; } "throw" === p.type && (o = s, n.method = "throw", n.arg = p.arg); } }; } function maybeInvokeDelegate(e, r) { var n = r.method, o = e.iterator[n]; if (o === t) return r.delegate = null, "throw" === n && e.iterator["return"] && (r.method = "return", r.arg = t, maybeInvokeDelegate(e, r), "throw" === r.method) || "return" !== n && (r.method = "throw", r.arg = new TypeError("The iterator does not provide a '" + n + "' method")), y; var i = tryCatch(o, e.iterator, r.arg); if ("throw" === i.type) return r.method = "throw", r.arg = i.arg, r.delegate = null, y; var a = i.arg; return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, "return" !== r.method && (r.method = "next", r.arg = t), r.delegate = null, y) : a : (r.method = "throw", r.arg = new TypeError("iterator result is not an object"), r.delegate = null, y); } function pushTryEntry(t) { var e = { tryLoc: t[0] }; 1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e); } function resetTryEntry(t) { var e = t.completion || {}; e.type = "normal", delete e.arg, t.completion = e; } function Context(t) { this.tryEntries = [{ tryLoc: "root" }], t.forEach(pushTryEntry, this), this.reset(!0); } function values(e) { if (e || "" === e) { var r = e[a]; if (r) return r.call(e); if ("function" == typeof e.next) return e; if (!isNaN(e.length)) { var o = -1, i = function next() { for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next; return next.value = t, next.done = !0, next; }; return i.next = i; } } throw new TypeError(_typeof(e) + " is not iterable"); } return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, "constructor", { value: GeneratorFunctionPrototype, configurable: !0 }), o(GeneratorFunctionPrototype, "constructor", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, "GeneratorFunction"), e.isGeneratorFunction = function (t) { var e = "function" == typeof t && t.constructor; return !!e && (e === GeneratorFunction || "GeneratorFunction" === (e.displayName || e.name)); }, e.mark = function (t) { return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, "GeneratorFunction")), t.prototype = Object.create(g), t; }, e.awrap = function (t) { return { __await: t }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () { return this; }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) { void 0 === i && (i = Promise); var a = new AsyncIterator(wrap(t, r, n, o), i); return e.isGeneratorFunction(r) ? a : a.next().then(function (t) { return t.done ? t.value : a.next(); }); }, defineIteratorMethods(g), define(g, u, "Generator"), define(g, a, function () { return this; }), define(g, "toString", function () { return "[object Generator]"; }), e.keys = function (t) { var e = Object(t), r = []; for (var n in e) r.push(n); return r.reverse(), function next() { for (; r.length;) { var t = r.pop(); if (t in e) return next.value = t, next.done = !1, next; } return next.done = !0, next; }; }, e.values = values, Context.prototype = { constructor: Context, reset: function reset(e) { if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = "next", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) "t" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t); }, stop: function stop() { this.done = !0; var t = this.tryEntries[0].completion; if ("throw" === t.type) throw t.arg; return this.rval; }, dispatchException: function dispatchException(e) { if (this.done) throw e; var r = this; function handle(n, o) { return a.type = "throw", a.arg = e, r.next = n, o && (r.method = "next", r.arg = t), !!o; } for (var o = this.tryEntries.length - 1; o >= 0; --o) { var i = this.tryEntries[o], a = i.completion; if ("root" === i.tryLoc) return handle("end"); if (i.tryLoc <= this.prev) { var c = n.call(i, "catchLoc"), u = n.call(i, "finallyLoc"); if (c && u) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } else if (c) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); } else { if (!u) throw Error("try statement without catch or finally"); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } } } }, abrupt: function abrupt(t, e) { for (var r = this.tryEntries.length - 1; r >= 0; --r) { var o = this.tryEntries[r]; if (o.tryLoc <= this.prev && n.call(o, "finallyLoc") && this.prev < o.finallyLoc) { var i = o; break; } } i && ("break" === t || "continue" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null); var a = i ? i.completion : {}; return a.type = t, a.arg = e, i ? (this.method = "next", this.next = i.finallyLoc, y) : this.complete(a); }, complete: function complete(t, e) { if ("throw" === t.type) throw t.arg; return "break" === t.type || "continue" === t.type ? this.next = t.arg : "return" === t.type ? (this.rval = this.arg = t.arg, this.method = "return", this.next = "end") : "normal" === t.type && e && (this.next = e), y; }, finish: function finish(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y; } }, "catch": function _catch(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.tryLoc === t) { var n = r.completion; if ("throw" === n.type) { var o = n.arg; resetTryEntry(r); } return o; } } throw Error("illegal catch attempt"); }, delegateYield: function delegateYield(e, r, n) { return this.delegate = { iterator: values(e), resultName: r, nextLoc: n }, "next" === this.method && (this.arg = t), y; } }, e; }
function asyncGeneratorStep(n, t, e, r, o, a, c) { try { var i = n[a](c), u = i.value; } catch (n) { return void e(n); } i.done ? t(u) : Promise.resolve(u).then(r, o); }
function _asyncToGenerator(n) { return function () { var t = this, e = arguments; return new Promise(function (r, o) { var a = n.apply(t, e); function _next(n) { asyncGeneratorStep(a, r, o, _next, _throw, "next", n); } function _throw(n) { asyncGeneratorStep(a, r, o, _next, _throw, "throw", n); } _next(void 0); }); }; }
window.$ = jQuery;
$(document).ready(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee() {
  return _regeneratorRuntime().wrap(function _callee$(_context) {
    while (1) switch (_context.prev = _context.next) {
      case 0:
        (0, _tabsToggle.initTabsToggle)();
        if (typeof masterstudy_quiz_attempts !== "undefined" && $(_config.CONFIG.selectors.quizStandalone.container).length) {
          _quizAttempts.QuizAttemptsModule.init('standalone');
        }
        if ($('.masterstudy-enrolled-quizzes-container').length) {
          _enrolledQuizzes.EnrolledQuizzesModule.init();
        }
      case 3:
      case "end":
        return _context.stop();
    }
  }, _callee);
})));

},{"./modules/config.js":2,"./modules/enrolled-quizzes.js":3,"./modules/quiz-attempts.js":4,"./modules/tabs-toggle.js":5}],2:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.CONFIG = void 0;
var CONFIG = {
  apiBase: ms_lms_resturl,
  nonce: ms_lms_nonce,
  endpoints: {
    quizAttempts: "/quiz/attempts",
    enrolledQuizzes: "/enrolled-quizzes"
  },
  selectors: {
    quizHistory: {
      navigation: ".masterstudy-course-player-quiz-attempts-navigation",
      perPage: ".masterstudy-course-player-quiz-attempts-navigation__per-page",
      container: ".masterstudy-course-player-quiz-attempts",
      templateId: "masterstudy-course-player-quiz-attempts-template",
      pagination: ".masterstudy-course-player-quiz-attempts-navigation__pagination",
      prefix: ".masterstudy-course-player-quiz-attempt"
    },
    quizStandalone: {
      navigation: ".masterstudy-quiz-attempts-navigation",
      perPage: ".masterstudy-quiz-attempts-navigation__per-page",
      container: ".masterstudy-quiz-attempts",
      templateId: "masterstudy-quiz-attempts-template",
      pagination: ".masterstudy-quiz-attempts-navigation__pagination",
      prefix: ".masterstudy-quiz-attempt"
    },
    enrolledQuizzes: {
      navigation: ".masterstudy-enrolled-quizzes-navigation",
      perPage: ".masterstudy-enrolled-quizzes-navigation__per-page",
      container: ".masterstudy-enrolled-quizzes-container",
      templateId: "masterstudy-enrolled-quizzes-template",
      pagination: ".masterstudy-enrolled-quizzes-navigation__pagination",
      prefix: ".masterstudy-enrolled-quizzes-item"
    }
  }
};
exports.CONFIG = CONFIG;

},{}],3:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.EnrolledQuizzesModule = void 0;
var _config = require("./config.js");
var _utils = require("./utils.js");
window.$ = jQuery;
var EnrolledQuizzesModule = function () {
  var config = {
    selectors: _config.CONFIG.selectors.enrolledQuizzes,
    endpoint: _config.CONFIG.endpoints.enrolledQuizzes
  };
  var totalPages = 1;
  function fetchQuizzes() {
    var perPage = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : undefined;
    var currentPage = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;
    var url = _config.CONFIG.apiBase + config.endpoint;
    var query = [];
    var $input = $('.masterstudy-enrolled-quizzes-search__input');
    var searchQuery = $input.length ? $input.val().trim() : '';
    if (searchQuery) query.push("s=".concat(encodeURIComponent(searchQuery)));
    if (perPage) query.push("per_page=".concat(perPage));
    if (currentPage) query.push("current_page=".concat(currentPage));
    if (query.length) url += "?".concat(query.join("&"));
    (0, _utils.updatePaginationView)(totalPages, currentPage);
    var $container = $(config.selectors.container);
    $('.masterstudy-enrolled-quizzes__course, .masterstudy-enrolled-quizzes-no-found__info', config.selectors.container).remove();
    $container.addClass("quizzes-loading");
    fetch(url, {
      headers: {
        "X-WP-Nonce": _config.CONFIG.nonce,
        "Content-Type": "application/json"
      }
    }).then(function (res) {
      return res.json();
    }).then(function (data) {
      $container.css("height", "auto").removeClass("quizzes-loading");
      $(".masterstudy-enrolled-quizzes .stm_lms_user_info_top h3").html(function (_, html) {
        return html.replace(/<span>.*<\/span>/, "") + " <span>".concat(data.total_quizzes, "</span>");
      });
      $('.masterstudy-enrolled-quizzes__course, .masterstudy-enrolled-quizzes-no-found__info', config.selectors.container).remove();
      updatePagination(data.pages, currentPage);
      if (!data.courses || data.courses.length === 0) {
        var template = document.getElementById('masterstudy-enrolled-quizzes-no-found-template');
        if (template) {
          var clone = template.content.cloneNode(true);
          $(config.selectors.navigation).hide();
          $(searchQuery ? '.masterstudy-enrolled-quizzes-no-found__items' : '.masterstudy-enrolled-quizzes-no-found__search', clone).remove();
          $container.append(clone);
        }
        return;
      }
      $(config.selectors.navigation).show();
      totalPages = data.pages;
      (data.courses || []).forEach(function (course) {
        var html = renderCourseTemplate(course);
        $container.append(html);
      });
    })["catch"](function (err) {
      console.error("Error fetching enrolled quizzes:", err);
      $container.css("height", "auto").removeClass("quizzes-loading");
    });
  }
  function renderCourseTemplate(course) {
    var template = document.getElementById(config.selectors.templateId);
    if (!template) return '';
    var clone = template.content.cloneNode(true);
    var courseLink = clone.querySelector('.masterstudy-enrolled-quizzes-course__link');
    courseLink.textContent = course.title;
    courseLink.href = course.url;
    var itemsContainer = clone.querySelector('.masterstudy-enrolled-quizzes-items');
    var itemTemplate = clone.querySelector('.masterstudy-enrolled-quizzes-item');
    itemsContainer.innerHTML = '';
    Object.values(course.quizzes || {}).forEach(function (quiz) {
      var item = itemTemplate.cloneNode(true);
      item.querySelector('.masterstudy-enrolled-quizzes-item__name--link').textContent = quiz.title;
      item.querySelector('.masterstudy-enrolled-quizzes-item__name--link').href = quiz.url;
      item.querySelector('.masterstudy-enrolled-quizzes-item__attempts').textContent = quiz.attempts.count;
      item.querySelector('.masterstudy-enrolled-quizzes-item__questions').textContent = quiz.questions;
      item.querySelector('.masterstudy-enrolled-quizzes-item__progress').dataset.quizProgress = quiz.progress;
      item.querySelector('.masterstudy-enrolled-quizzes-item__progress--filled').style.width = "".concat(quiz.progress, "%");
      item.querySelector('.masterstudy-enrolled-quizzes-item__progress--status').textContent = "".concat(quiz.grade);
      var statusEl = item.querySelector('.masterstudy-enrolled-quizzes-item__status');
      statusEl.textContent = quiz.status.label;
      statusEl.dataset.quizStatus = quiz.status.value;
      statusEl.classList.add(quiz.status.value);
      item.querySelector('.masterstudy-enrolled-quizzes-item__details').href = quiz.attempts.url;
      itemsContainer.appendChild(item);
    });
    return clone;
  }
  function updatePagination(totalPages, currentPage) {
    (0, _utils.renderPagination)({
      ajaxurl: stm_lms_ajaxurl,
      nonce: stm_lms_nonces.stm_lms_enrolled_quizzes,
      totalPages: totalPages,
      currentPage: currentPage,
      paginationContainer: config.selectors.pagination,
      onPageChange: fetchQuizzes,
      getPerPageSelector: function getPerPageSelector() {
        return '#enrolled-quizzes-per-page';
      }
    });
  }
  return {
    init: function init() {
      (0, _utils.bindPerPageHandler)($(config.selectors.prefix, config.selectors.container), config.selectors.perPage, fetchQuizzes);
      fetchQuizzes();
      initSearch();
    }
  };
  function initSearch() {
    var $input = $('.masterstudy-enrolled-quizzes-search__input');
    if (!$input.length) return;
    var timer;
    var lastQuery = '';
    $input.off("input").on("input", function () {
      clearTimeout(timer);
      timer = setTimeout(function () {
        var query = $input.val().trim();
        if (query !== lastQuery) {
          lastQuery = query;
          fetchQuizzes($("#enrolled-quizzes-per-page").val(), 1);
        }
      }, 300);
    });
  }
}();
exports.EnrolledQuizzesModule = EnrolledQuizzesModule;

},{"./config.js":2,"./utils.js":6}],4:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.QuizAttemptsModule = void 0;
var _config = require("./config.js");
var _utils = require("./utils.js");
window.$ = jQuery;
var QuizAttemptsModule = function () {
  var config = {
    mode: 'standalone',
    selectors: _config.CONFIG.selectors.quizStandalone,
    endpoint: _config.CONFIG.endpoints.quizAttempts
  };
  var totalPages = 1;
  function setMode(mode) {
    config.mode = mode;
    config.selectors = mode === 'history' ? _config.CONFIG.selectors.quizHistory : _config.CONFIG.selectors.quizStandalone;
  }
  function fetchAttempts() {
    var perPage = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : undefined;
    var currentPage = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;
    var url = _config.CONFIG.apiBase + config.endpoint;
    var query = [];
    if (perPage) query.push("per_page=".concat(perPage));
    if (currentPage) query.push("current_page=".concat(currentPage));
    if (masterstudy_quiz_attempts.course_id) query.push("course_id=".concat(masterstudy_quiz_attempts.course_id));
    if (masterstudy_quiz_attempts.quiz_id) query.push("quiz_id=".concat(masterstudy_quiz_attempts.quiz_id));
    if (query.length) url += "?".concat(query.join("&"));
    (0, _utils.updatePaginationView)(totalPages, currentPage);
    var $container = $(config.selectors.container);
    $(config.selectors.prefix, $container).remove();
    $container.addClass("quiz-attempts-loading");
    fetch(url, {
      method: "GET",
      headers: {
        "X-WP-Nonce": _config.CONFIG.nonce,
        "Content-Type": "application/json"
      }
    }).then(function (res) {
      return res.json();
    }).then(function (data) {
      $container.css("height", "auto").removeClass("quiz-attempts-loading");
      $(config.selectors.prefix, $container).remove();
      totalPages = data.pages;
      updatePagination(data.pages, currentPage);
      (data.attempts || []).forEach(function (attempt) {
        var html = renderAttemptTemplate(attempt);
        $container.append(html);
      });
    })["catch"](function (err) {
      console.error("Error fetching quiz attempts:", err);
      $container.css("height", "auto").removeClass("quiz-attempts-loading");
    });
  }
  function renderAttemptTemplate(attempt) {
    var template = document.getElementById(config.selectors.templateId);
    if (!template) return '';
    var clone = template.content.cloneNode(true);
    var $ = function $(selector) {
      return clone.querySelector(selector);
    };
    var prefix = config.selectors.prefix;
    var date = $("".concat(prefix, "__date"));
    var selectorDate = date.getAttribute('data-header').replace('%s', attempt.number);
    $("".concat(prefix, "__number")).textContent = attempt.number;
    date.setAttribute('data-header', selectorDate);
    $("".concat(prefix, "__date--value")).textContent = attempt.created_at.date;
    $("".concat(prefix, "__date--time")).textContent = attempt.created_at.time;
    $("".concat(prefix, "__questions")).textContent = attempt.questions;
    $("".concat(prefix, "__correct")).textContent = attempt.attempts.correct;
    $("".concat(prefix, "__incorrect")).textContent = attempt.attempts.incorrect;
    $("".concat(prefix, "__progress")).setAttribute("data-quiz-progress", attempt.progress);
    $("".concat(prefix, "__progress--filled")).style.width = "".concat(attempt.progress, "%");
    $("".concat(prefix, "__grade")).textContent = "".concat(attempt.grade);
    $("".concat(prefix, "__status")).setAttribute("data-quiz-status", attempt.status.value);
    $("".concat(prefix, "__status")).textContent = attempt.status.label;
    $("".concat(prefix, "__status")).classList.add(attempt.status.value);
    $("".concat(prefix, "__details")).setAttribute("href", attempt.url);
    return clone;
  }
  function updatePagination(totalPages, currentPage) {
    (0, _utils.renderPagination)({
      ajaxurl: stm_lms_ajaxurl,
      nonce: stm_lms_nonces.stm_lms_enrolled_quizzes,
      totalPages: totalPages,
      currentPage: currentPage,
      paginationContainer: config.selectors.pagination,
      onPageChange: fetchAttempts,
      getPerPageSelector: function getPerPageSelector() {
        return '#quiz-attempts-per-page';
      }
    });
  }
  return {
    init: function init() {
      var mode = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'standalone';
      setMode(mode);
      (0, _utils.bindPerPageHandler)($(config.selectors.prefix, config.selectors.container), config.selectors.perPage, fetchAttempts);
      fetchAttempts();
    }
  };
}();
exports.QuizAttemptsModule = QuizAttemptsModule;

},{"./config.js":2,"./utils.js":6}],5:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.initTabsToggle = initTabsToggle;
var _quizAttempts = require("./quiz-attempts.js");
window.$ = jQuery;
function initTabsToggle() {
  var tabClass = "masterstudy-tabs__item";
  var activeClass = "masterstudy-tabs__item_active";
  var quizContent = ".masterstudy-course-player-content__header_quiz, .masterstudy-course-player-quiz, [data-id='quiz_alert']";
  var attemptsContent = ".masterstudy-course-player-quiz-attempts-wrapper";
  var beforeRequest = false;
  $(".".concat(tabClass, "[data-id]")).on("click", function () {
    var $this = $(this);
    var currentId = $this.data("id");
    var prevId = currentId === "quiz" ? "history" : "quiz";
    var toShow = currentId === "quiz" ? quizContent : attemptsContent;
    var toHide = currentId === "quiz" ? attemptsContent : quizContent;
    $("[data-id='".concat(prevId, "']")).removeClass(activeClass);
    $this.addClass(activeClass);
    $(toShow).removeClass("masterstudy-course-player-quiz__hide").show();
    $(toHide).addClass("masterstudy-course-player-quiz__hide");
    if (currentId === "history" && !beforeRequest) {
      beforeRequest = true;
      _quizAttempts.QuizAttemptsModule.init("history");
    }
  });
}

},{"./quiz-attempts.js":4}],6:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.attachPaginationClickHandlers = attachPaginationClickHandlers;
exports.bindPerPageHandler = bindPerPageHandler;
exports.renderPagination = renderPagination;
exports.updatePaginationView = updatePaginationView;
window.$ = jQuery;
function updatePaginationView(totalPages, currentPage) {
  $(".masterstudy-pagination__item").removeClass('masterstudy-pagination__item_current').hide();
  var start = Math.max(1, currentPage - 1);
  var end = Math.min(totalPages, currentPage + 1);
  if (currentPage === 1 || start === 1) end = Math.min(totalPages, start + 2);
  if (currentPage === totalPages || end === totalPages) start = Math.max(1, end - 2);
  for (var i = start; i <= end; i++) {
    $(".masterstudy-pagination__item:has([data-id=\"".concat(i, "\"])")).show();
  }
  $(".masterstudy-pagination__item-block[data-id=\"".concat(currentPage, "\"]")).parent().addClass('masterstudy-pagination__item_current');
  $(".masterstudy-pagination__button-next").toggle(currentPage < totalPages);
  $(".masterstudy-pagination__button-prev").toggle(currentPage > 1);
}
function attachPaginationClickHandlers(totalPages, onPageChange, getPerPageSelector) {
  $(".masterstudy-pagination__item-block").off("click").on("click", function () {
    if ($(this).parent().hasClass('masterstudy-pagination__item_current')) {
      return;
    }
    var page = $(this).data("id");
    onPageChange($(getPerPageSelector()).val(), page);
  });
  $(".masterstudy-pagination__button-prev").off("click").on("click", function () {
    var current = $(".masterstudy-pagination__item_current .masterstudy-pagination__item-block").data("id");
    if (current > 1) onPageChange($(getPerPageSelector()).val(), current - 1);
  });
  $(".masterstudy-pagination__button-next").off("click").on("click", function () {
    var current = $(".masterstudy-pagination__item_current .masterstudy-pagination__item-block").data("id");
    var total = $(".masterstudy-pagination__item-block").length;
    if (current < total) onPageChange($(getPerPageSelector()).val(), current + 1);
  });
}
function bindPerPageHandler(containerSelector, perPage, fetchFn) {
  $(".masterstudy-select__option, .masterstudy-select__clear", perPage).off("click").on("click", function () {
    $(containerSelector).remove();
    fetchFn($(this).data("value"));
  });
}
function renderPagination(_ref) {
  var ajaxurl = _ref.ajaxurl,
    nonce = _ref.nonce,
    totalPages = _ref.totalPages,
    currentPage = _ref.currentPage,
    paginationContainer = _ref.paginationContainer,
    onPageChange = _ref.onPageChange,
    getPerPageSelector = _ref.getPerPageSelector;
  $.post(ajaxurl, {
    action: "get_pagination",
    total_pages: totalPages,
    current_page: currentPage,
    _ajax_nonce: nonce
  }, function (response) {
    if (response.success) {
      var $nav = $(paginationContainer);
      $nav.toggle(totalPages > 1).html(response.data.pagination);
      attachPaginationClickHandlers(totalPages, onPageChange, getPerPageSelector);
      updatePaginationView(totalPages, currentPage);
    }
  });
}

},{}]},{},[1])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJhc3NldHMvZXM2L2Vucm9sbGVkLXF1aXp6ZXMvaW5kZXguanMiLCJhc3NldHMvZXM2L2Vucm9sbGVkLXF1aXp6ZXMvbW9kdWxlcy9jb25maWcuanMiLCJhc3NldHMvZXM2L2Vucm9sbGVkLXF1aXp6ZXMvbW9kdWxlcy9lbnJvbGxlZC1xdWl6emVzLmpzIiwiYXNzZXRzL2VzNi9lbnJvbGxlZC1xdWl6emVzL21vZHVsZXMvcXVpei1hdHRlbXB0cy5qcyIsImFzc2V0cy9lczYvZW5yb2xsZWQtcXVpenplcy9tb2R1bGVzL3RhYnMtdG9nZ2xlLmpzIiwiYXNzZXRzL2VzNi9lbnJvbGxlZC1xdWl6emVzL21vZHVsZXMvdXRpbHMuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7QUNBQSxJQUFBLFdBQUEsR0FBQSxPQUFBO0FBQ0EsSUFBQSxhQUFBLEdBQUEsT0FBQTtBQUNBLElBQUEsZ0JBQUEsR0FBQSxPQUFBO0FBQ0EsSUFBQSxPQUFBLEdBQUEsT0FBQTtBQUE2QyxTQUFBLG9CQUFBLGtCQUY3QyxxSkFBQSxtQkFBQSxZQUFBLG9CQUFBLFdBQUEsQ0FBQSxTQUFBLENBQUEsRUFBQSxDQUFBLE9BQUEsQ0FBQSxHQUFBLE1BQUEsQ0FBQSxTQUFBLEVBQUEsQ0FBQSxHQUFBLENBQUEsQ0FBQSxjQUFBLEVBQUEsQ0FBQSxHQUFBLE1BQUEsQ0FBQSxjQUFBLGNBQUEsQ0FBQSxFQUFBLENBQUEsRUFBQSxDQUFBLElBQUEsQ0FBQSxDQUFBLENBQUEsSUFBQSxDQUFBLENBQUEsS0FBQSxLQUFBLENBQUEsd0JBQUEsTUFBQSxHQUFBLE1BQUEsT0FBQSxDQUFBLEdBQUEsQ0FBQSxDQUFBLFFBQUEsa0JBQUEsQ0FBQSxHQUFBLENBQUEsQ0FBQSxhQUFBLHVCQUFBLENBQUEsR0FBQSxDQUFBLENBQUEsV0FBQSw4QkFBQSxPQUFBLENBQUEsRUFBQSxDQUFBLEVBQUEsQ0FBQSxXQUFBLE1BQUEsQ0FBQSxjQUFBLENBQUEsQ0FBQSxFQUFBLENBQUEsSUFBQSxLQUFBLEVBQUEsQ0FBQSxFQUFBLFVBQUEsTUFBQSxZQUFBLE1BQUEsUUFBQSxTQUFBLENBQUEsQ0FBQSxDQUFBLFdBQUEsTUFBQSxtQkFBQSxDQUFBLElBQUEsTUFBQSxZQUFBLE9BQUEsQ0FBQSxFQUFBLENBQUEsRUFBQSxDQUFBLFdBQUEsQ0FBQSxDQUFBLENBQUEsSUFBQSxDQUFBLGdCQUFBLEtBQUEsQ0FBQSxFQUFBLENBQUEsRUFBQSxDQUFBLEVBQUEsQ0FBQSxRQUFBLENBQUEsR0FBQSxDQUFBLElBQUEsQ0FBQSxDQUFBLFNBQUEsWUFBQSxTQUFBLEdBQUEsQ0FBQSxHQUFBLFNBQUEsRUFBQSxDQUFBLEdBQUEsTUFBQSxDQUFBLE1BQUEsQ0FBQSxDQUFBLENBQUEsU0FBQSxHQUFBLENBQUEsT0FBQSxPQUFBLENBQUEsQ0FBQSxnQkFBQSxDQUFBLENBQUEsQ0FBQSxlQUFBLEtBQUEsRUFBQSxnQkFBQSxDQUFBLENBQUEsRUFBQSxDQUFBLEVBQUEsQ0FBQSxNQUFBLENBQUEsYUFBQSxTQUFBLENBQUEsRUFBQSxDQUFBLEVBQUEsQ0FBQSxtQkFBQSxJQUFBLFlBQUEsR0FBQSxFQUFBLENBQUEsQ0FBQSxJQUFBLENBQUEsQ0FBQSxFQUFBLENBQUEsY0FBQSxDQUFBLGFBQUEsSUFBQSxXQUFBLEdBQUEsRUFBQSxDQUFBLFFBQUEsQ0FBQSxDQUFBLElBQUEsR0FBQSxJQUFBLE1BQUEsQ0FBQSxxQkFBQSxDQUFBLHFCQUFBLENBQUEsZ0JBQUEsQ0FBQSxnQkFBQSxDQUFBLGdCQUFBLFVBQUEsY0FBQSxrQkFBQSxjQUFBLDJCQUFBLFNBQUEsQ0FBQSxPQUFBLE1BQUEsQ0FBQSxDQUFBLEVBQUEsQ0FBQSxxQ0FBQSxDQUFBLEdBQUEsTUFBQSxDQUFBLGNBQUEsRUFBQSxDQUFBLEdBQUEsQ0FBQSxJQUFBLENBQUEsQ0FBQSxDQUFBLENBQUEsTUFBQSxRQUFBLENBQUEsSUFBQSxDQUFBLEtBQUEsQ0FBQSxJQUFBLENBQUEsQ0FBQSxJQUFBLENBQUEsQ0FBQSxFQUFBLENBQUEsTUFBQSxDQUFBLEdBQUEsQ0FBQSxPQUFBLENBQUEsR0FBQSwwQkFBQSxDQUFBLFNBQUEsR0FBQSxTQUFBLENBQUEsU0FBQSxHQUFBLE1BQUEsQ0FBQSxNQUFBLENBQUEsQ0FBQSxZQUFBLHNCQUFBLENBQUEsZ0NBQUEsT0FBQSxXQUFBLENBQUEsSUFBQSxNQUFBLENBQUEsQ0FBQSxFQUFBLENBQUEsWUFBQSxDQUFBLGdCQUFBLE9BQUEsQ0FBQSxDQUFBLEVBQUEsQ0FBQSxzQkFBQSxjQUFBLENBQUEsRUFBQSxDQUFBLGFBQUEsT0FBQSxDQUFBLEVBQUEsQ0FBQSxFQUFBLENBQUEsRUFBQSxDQUFBLFFBQUEsQ0FBQSxHQUFBLFFBQUEsQ0FBQSxDQUFBLENBQUEsQ0FBQSxHQUFBLENBQUEsRUFBQSxDQUFBLG1CQUFBLENBQUEsQ0FBQSxJQUFBLFFBQUEsQ0FBQSxHQUFBLENBQUEsQ0FBQSxHQUFBLEVBQUEsQ0FBQSxHQUFBLENBQUEsQ0FBQSxLQUFBLFNBQUEsQ0FBQSxnQkFBQSxPQUFBLENBQUEsQ0FBQSxLQUFBLENBQUEsQ0FBQSxJQUFBLENBQUEsQ0FBQSxlQUFBLENBQUEsQ0FBQSxPQUFBLENBQUEsQ0FBQSxDQUFBLE9BQUEsRUFBQSxJQUFBLFdBQUEsQ0FBQSxJQUFBLE1BQUEsU0FBQSxDQUFBLEVBQUEsQ0FBQSxFQUFBLENBQUEsZ0JBQUEsQ0FBQSxJQUFBLE1BQUEsVUFBQSxDQUFBLEVBQUEsQ0FBQSxFQUFBLENBQUEsUUFBQSxDQUFBLENBQUEsT0FBQSxDQUFBLENBQUEsRUFBQSxJQUFBLFdBQUEsQ0FBQSxJQUFBLENBQUEsQ0FBQSxLQUFBLEdBQUEsQ0FBQSxFQUFBLENBQUEsQ0FBQSxDQUFBLGdCQUFBLENBQUEsV0FBQSxNQUFBLFVBQUEsQ0FBQSxFQUFBLENBQUEsRUFBQSxDQUFBLFNBQUEsQ0FBQSxDQUFBLENBQUEsQ0FBQSxHQUFBLFNBQUEsQ0FBQSxFQUFBLENBQUEsb0JBQUEsS0FBQSxXQUFBLE1BQUEsQ0FBQSxFQUFBLENBQUEsYUFBQSwyQkFBQSxlQUFBLENBQUEsV0FBQSxDQUFBLEVBQUEsQ0FBQSxJQUFBLE1BQUEsQ0FBQSxDQUFBLEVBQUEsQ0FBQSxFQUFBLENBQUEsRUFBQSxDQUFBLGdCQUFBLENBQUEsR0FBQSxDQUFBLEdBQUEsQ0FBQSxDQUFBLElBQUEsQ0FBQSwwQkFBQSxFQUFBLDBCQUFBLElBQUEsMEJBQUEscUJBQUEsaUJBQUEsQ0FBQSxFQUFBLENBQUEsRUFBQSxDQUFBLFFBQUEsQ0FBQSxHQUFBLENBQUEsbUJBQUEsQ0FBQSxFQUFBLENBQUEsUUFBQSxDQUFBLEtBQUEsQ0FBQSxRQUFBLEtBQUEsc0NBQUEsQ0FBQSxLQUFBLENBQUEsb0JBQUEsQ0FBQSxRQUFBLENBQUEsV0FBQSxLQUFBLEVBQUEsQ0FBQSxFQUFBLElBQUEsZUFBQSxDQUFBLENBQUEsTUFBQSxHQUFBLENBQUEsRUFBQSxDQUFBLENBQUEsR0FBQSxHQUFBLENBQUEsVUFBQSxDQUFBLEdBQUEsQ0FBQSxDQUFBLFFBQUEsTUFBQSxDQUFBLFFBQUEsQ0FBQSxHQUFBLG1CQUFBLENBQUEsQ0FBQSxFQUFBLENBQUEsT0FBQSxDQUFBLFFBQUEsQ0FBQSxLQUFBLENBQUEsbUJBQUEsQ0FBQSxxQkFBQSxDQUFBLENBQUEsTUFBQSxFQUFBLENBQUEsQ0FBQSxJQUFBLEdBQUEsQ0FBQSxDQUFBLEtBQUEsR0FBQSxDQUFBLENBQUEsR0FBQSxzQkFBQSxDQUFBLENBQUEsTUFBQSxRQUFBLENBQUEsS0FBQSxDQUFBLFFBQUEsQ0FBQSxHQUFBLENBQUEsRUFBQSxDQUFBLENBQUEsR0FBQSxFQUFBLENBQUEsQ0FBQSxpQkFBQSxDQUFBLENBQUEsQ0FBQSxHQUFBLHVCQUFBLENBQUEsQ0FBQSxNQUFBLElBQUEsQ0FBQSxDQUFBLE1BQUEsV0FBQSxDQUFBLENBQUEsR0FBQSxHQUFBLENBQUEsR0FBQSxDQUFBLE1BQUEsQ0FBQSxHQUFBLFFBQUEsQ0FBQSxDQUFBLEVBQUEsQ0FBQSxFQUFBLENBQUEsb0JBQUEsQ0FBQSxDQUFBLElBQUEsUUFBQSxDQUFBLEdBQUEsQ0FBQSxDQUFBLElBQUEsR0FBQSxDQUFBLEdBQUEsQ0FBQSxFQUFBLENBQUEsQ0FBQSxHQUFBLEtBQUEsQ0FBQSxxQkFBQSxLQUFBLEVBQUEsQ0FBQSxDQUFBLEdBQUEsRUFBQSxJQUFBLEVBQUEsQ0FBQSxDQUFBLElBQUEsa0JBQUEsQ0FBQSxDQUFBLElBQUEsS0FBQSxDQUFBLEdBQUEsQ0FBQSxFQUFBLENBQUEsQ0FBQSxNQUFBLFlBQUEsQ0FBQSxDQUFBLEdBQUEsR0FBQSxDQUFBLENBQUEsR0FBQSxtQkFBQSxvQkFBQSxDQUFBLEVBQUEsQ0FBQSxRQUFBLENBQUEsR0FBQSxDQUFBLENBQUEsTUFBQSxFQUFBLENBQUEsR0FBQSxDQUFBLENBQUEsUUFBQSxDQUFBLENBQUEsT0FBQSxDQUFBLEtBQUEsQ0FBQSxTQUFBLENBQUEsQ0FBQSxRQUFBLHFCQUFBLENBQUEsSUFBQSxDQUFBLENBQUEsUUFBQSxlQUFBLENBQUEsQ0FBQSxNQUFBLGFBQUEsQ0FBQSxDQUFBLEdBQUEsR0FBQSxDQUFBLEVBQUEsbUJBQUEsQ0FBQSxDQUFBLEVBQUEsQ0FBQSxlQUFBLENBQUEsQ0FBQSxNQUFBLGtCQUFBLENBQUEsS0FBQSxDQUFBLENBQUEsTUFBQSxZQUFBLENBQUEsQ0FBQSxHQUFBLE9BQUEsU0FBQSx1Q0FBQSxDQUFBLGlCQUFBLENBQUEsTUFBQSxDQUFBLEdBQUEsUUFBQSxDQUFBLENBQUEsRUFBQSxDQUFBLENBQUEsUUFBQSxFQUFBLENBQUEsQ0FBQSxHQUFBLG1CQUFBLENBQUEsQ0FBQSxJQUFBLFNBQUEsQ0FBQSxDQUFBLE1BQUEsWUFBQSxDQUFBLENBQUEsR0FBQSxHQUFBLENBQUEsQ0FBQSxHQUFBLEVBQUEsQ0FBQSxDQUFBLFFBQUEsU0FBQSxDQUFBLE1BQUEsQ0FBQSxHQUFBLENBQUEsQ0FBQSxHQUFBLFNBQUEsQ0FBQSxHQUFBLENBQUEsQ0FBQSxJQUFBLElBQUEsQ0FBQSxDQUFBLENBQUEsQ0FBQSxVQUFBLElBQUEsQ0FBQSxDQUFBLEtBQUEsRUFBQSxDQUFBLENBQUEsSUFBQSxHQUFBLENBQUEsQ0FBQSxPQUFBLGVBQUEsQ0FBQSxDQUFBLE1BQUEsS0FBQSxDQUFBLENBQUEsTUFBQSxXQUFBLENBQUEsQ0FBQSxHQUFBLEdBQUEsQ0FBQSxHQUFBLENBQUEsQ0FBQSxRQUFBLFNBQUEsQ0FBQSxJQUFBLENBQUEsSUFBQSxDQUFBLENBQUEsTUFBQSxZQUFBLENBQUEsQ0FBQSxHQUFBLE9BQUEsU0FBQSxzQ0FBQSxDQUFBLENBQUEsUUFBQSxTQUFBLENBQUEsY0FBQSxhQUFBLENBQUEsUUFBQSxDQUFBLEtBQUEsTUFBQSxFQUFBLENBQUEsWUFBQSxDQUFBLEtBQUEsQ0FBQSxDQUFBLFFBQUEsR0FBQSxDQUFBLFdBQUEsQ0FBQSxLQUFBLENBQUEsQ0FBQSxVQUFBLEdBQUEsQ0FBQSxLQUFBLENBQUEsQ0FBQSxRQUFBLEdBQUEsQ0FBQSxXQUFBLFVBQUEsQ0FBQSxJQUFBLENBQUEsQ0FBQSxjQUFBLGNBQUEsQ0FBQSxRQUFBLENBQUEsR0FBQSxDQUFBLENBQUEsVUFBQSxRQUFBLENBQUEsQ0FBQSxJQUFBLG9CQUFBLENBQUEsQ0FBQSxHQUFBLEVBQUEsQ0FBQSxDQUFBLFVBQUEsR0FBQSxDQUFBLGFBQUEsUUFBQSxDQUFBLFNBQUEsVUFBQSxNQUFBLE1BQUEsYUFBQSxDQUFBLENBQUEsT0FBQSxDQUFBLFlBQUEsY0FBQSxLQUFBLGlCQUFBLE9BQUEsQ0FBQSxRQUFBLENBQUEsV0FBQSxDQUFBLFFBQUEsQ0FBQSxHQUFBLENBQUEsQ0FBQSxDQUFBLE9BQUEsQ0FBQSxTQUFBLENBQUEsQ0FBQSxJQUFBLENBQUEsQ0FBQSw0QkFBQSxDQUFBLENBQUEsSUFBQSxTQUFBLENBQUEsT0FBQSxLQUFBLENBQUEsQ0FBQSxDQUFBLE1BQUEsU0FBQSxDQUFBLE9BQUEsQ0FBQSxZQUFBLEtBQUEsYUFBQSxDQUFBLEdBQUEsQ0FBQSxDQUFBLE1BQUEsT0FBQSxDQUFBLENBQUEsSUFBQSxDQUFBLENBQUEsRUFBQSxDQUFBLFVBQUEsSUFBQSxDQUFBLEtBQUEsR0FBQSxDQUFBLENBQUEsQ0FBQSxHQUFBLElBQUEsQ0FBQSxJQUFBLE9BQUEsSUFBQSxTQUFBLElBQUEsQ0FBQSxLQUFBLEdBQUEsQ0FBQSxFQUFBLElBQUEsQ0FBQSxJQUFBLE9BQUEsSUFBQSxZQUFBLENBQUEsQ0FBQSxJQUFBLEdBQUEsQ0FBQSxnQkFBQSxTQUFBLENBQUEsT0FBQSxDQUFBLENBQUEsa0NBQUEsaUJBQUEsQ0FBQSxTQUFBLEdBQUEsMEJBQUEsRUFBQSxDQUFBLENBQUEsQ0FBQSxtQkFBQSxLQUFBLEVBQUEsMEJBQUEsRUFBQSxZQUFBLFNBQUEsQ0FBQSxDQUFBLDBCQUFBLG1CQUFBLEtBQUEsRUFBQSxpQkFBQSxFQUFBLFlBQUEsU0FBQSxpQkFBQSxDQUFBLFdBQUEsR0FBQSxNQUFBLENBQUEsMEJBQUEsRUFBQSxDQUFBLHdCQUFBLENBQUEsQ0FBQSxtQkFBQSxhQUFBLENBQUEsUUFBQSxDQUFBLHdCQUFBLENBQUEsSUFBQSxDQUFBLENBQUEsV0FBQSxXQUFBLENBQUEsS0FBQSxDQUFBLEtBQUEsaUJBQUEsNkJBQUEsQ0FBQSxDQUFBLFdBQUEsSUFBQSxDQUFBLENBQUEsSUFBQSxPQUFBLENBQUEsQ0FBQSxJQUFBLGFBQUEsQ0FBQSxXQUFBLE1BQUEsQ0FBQSxjQUFBLEdBQUEsTUFBQSxDQUFBLGNBQUEsQ0FBQSxDQUFBLEVBQUEsMEJBQUEsS0FBQSxDQUFBLENBQUEsU0FBQSxHQUFBLDBCQUFBLEVBQUEsTUFBQSxDQUFBLENBQUEsRUFBQSxDQUFBLHlCQUFBLENBQUEsQ0FBQSxTQUFBLEdBQUEsTUFBQSxDQUFBLE1BQUEsQ0FBQSxDQUFBLEdBQUEsQ0FBQSxLQUFBLENBQUEsQ0FBQSxLQUFBLGFBQUEsQ0FBQSxhQUFBLE9BQUEsRUFBQSxDQUFBLE9BQUEscUJBQUEsQ0FBQSxhQUFBLENBQUEsU0FBQSxHQUFBLE1BQUEsQ0FBQSxhQUFBLENBQUEsU0FBQSxFQUFBLENBQUEsaUNBQUEsQ0FBQSxDQUFBLGFBQUEsR0FBQSxhQUFBLEVBQUEsQ0FBQSxDQUFBLEtBQUEsYUFBQSxDQUFBLEVBQUEsQ0FBQSxFQUFBLENBQUEsRUFBQSxDQUFBLEVBQUEsQ0FBQSxlQUFBLENBQUEsS0FBQSxDQUFBLEdBQUEsT0FBQSxPQUFBLENBQUEsT0FBQSxhQUFBLENBQUEsSUFBQSxDQUFBLENBQUEsRUFBQSxDQUFBLEVBQUEsQ0FBQSxFQUFBLENBQUEsR0FBQSxDQUFBLFVBQUEsQ0FBQSxDQUFBLG1CQUFBLENBQUEsQ0FBQSxJQUFBLENBQUEsR0FBQSxDQUFBLENBQUEsSUFBQSxHQUFBLElBQUEsV0FBQSxDQUFBLFdBQUEsQ0FBQSxDQUFBLElBQUEsR0FBQSxDQUFBLENBQUEsS0FBQSxHQUFBLENBQUEsQ0FBQSxJQUFBLFdBQUEscUJBQUEsQ0FBQSxDQUFBLEdBQUEsTUFBQSxDQUFBLENBQUEsRUFBQSxDQUFBLGdCQUFBLE1BQUEsQ0FBQSxDQUFBLEVBQUEsQ0FBQSxpQ0FBQSxNQUFBLENBQUEsQ0FBQSw2REFBQSxDQUFBLENBQUEsSUFBQSxhQUFBLENBQUEsUUFBQSxDQUFBLEdBQUEsTUFBQSxDQUFBLENBQUEsR0FBQSxDQUFBLGdCQUFBLENBQUEsSUFBQSxDQUFBLEVBQUEsQ0FBQSxDQUFBLElBQUEsQ0FBQSxDQUFBLFVBQUEsQ0FBQSxDQUFBLE9BQUEsYUFBQSxLQUFBLFdBQUEsQ0FBQSxDQUFBLE1BQUEsU0FBQSxDQUFBLEdBQUEsQ0FBQSxDQUFBLEdBQUEsUUFBQSxDQUFBLElBQUEsQ0FBQSxTQUFBLElBQUEsQ0FBQSxLQUFBLEdBQUEsQ0FBQSxFQUFBLElBQUEsQ0FBQSxJQUFBLE9BQUEsSUFBQSxXQUFBLElBQUEsQ0FBQSxJQUFBLE9BQUEsSUFBQSxRQUFBLENBQUEsQ0FBQSxNQUFBLEdBQUEsTUFBQSxFQUFBLE9BQUEsQ0FBQSxTQUFBLEtBQUEsV0FBQSxFQUFBLE9BQUEsRUFBQSxLQUFBLFdBQUEsTUFBQSxDQUFBLGFBQUEsSUFBQSxXQUFBLElBQUEsV0FBQSxJQUFBLFFBQUEsS0FBQSxHQUFBLENBQUEsT0FBQSxJQUFBLFlBQUEsUUFBQSxjQUFBLE1BQUEsZ0JBQUEsR0FBQSxHQUFBLENBQUEsT0FBQSxVQUFBLENBQUEsT0FBQSxDQUFBLGFBQUEsSUFBQSxDQUFBLFdBQUEsQ0FBQSxrQkFBQSxDQUFBLENBQUEsTUFBQSxPQUFBLENBQUEsQ0FBQSxJQUFBLE9BQUEsQ0FBQSxNQUFBLEtBQUEsRUFBQSxDQUFBLENBQUEsS0FBQSxjQUFBLENBQUEsSUFBQSxDQUFBLE1BQUEsSUFBQSxXQUFBLEtBQUEsU0FBQSxJQUFBLFdBQUEsQ0FBQSxRQUFBLFVBQUEsSUFBQSxVQUFBLGtCQUFBLENBQUEsQ0FBQSxJQUFBLFFBQUEsQ0FBQSxDQUFBLEdBQUEsY0FBQSxJQUFBLEtBQUEsaUJBQUEsV0FBQSxrQkFBQSxDQUFBLGFBQUEsSUFBQSxRQUFBLENBQUEsTUFBQSxDQUFBLGtCQUFBLE9BQUEsQ0FBQSxFQUFBLENBQUEsV0FBQSxDQUFBLENBQUEsSUFBQSxZQUFBLENBQUEsQ0FBQSxHQUFBLEdBQUEsQ0FBQSxFQUFBLENBQUEsQ0FBQSxJQUFBLEdBQUEsQ0FBQSxFQUFBLENBQUEsS0FBQSxDQUFBLENBQUEsTUFBQSxXQUFBLENBQUEsQ0FBQSxHQUFBLEdBQUEsQ0FBQSxLQUFBLENBQUEsYUFBQSxDQUFBLFFBQUEsVUFBQSxDQUFBLE1BQUEsTUFBQSxDQUFBLFNBQUEsQ0FBQSxRQUFBLENBQUEsUUFBQSxVQUFBLENBQUEsQ0FBQSxHQUFBLENBQUEsR0FBQSxDQUFBLENBQUEsVUFBQSxpQkFBQSxDQUFBLENBQUEsTUFBQSxTQUFBLE1BQUEsYUFBQSxDQUFBLENBQUEsTUFBQSxTQUFBLElBQUEsUUFBQSxDQUFBLEdBQUEsQ0FBQSxDQUFBLElBQUEsQ0FBQSxDQUFBLGVBQUEsQ0FBQSxHQUFBLENBQUEsQ0FBQSxJQUFBLENBQUEsQ0FBQSxxQkFBQSxDQUFBLElBQUEsQ0FBQSxhQUFBLElBQUEsR0FBQSxDQUFBLENBQUEsUUFBQSxTQUFBLE1BQUEsQ0FBQSxDQUFBLENBQUEsUUFBQSxnQkFBQSxJQUFBLEdBQUEsQ0FBQSxDQUFBLFVBQUEsU0FBQSxNQUFBLENBQUEsQ0FBQSxDQUFBLFVBQUEsY0FBQSxDQUFBLGFBQUEsSUFBQSxHQUFBLENBQUEsQ0FBQSxRQUFBLFNBQUEsTUFBQSxDQUFBLENBQUEsQ0FBQSxRQUFBLHFCQUFBLENBQUEsUUFBQSxLQUFBLHFEQUFBLElBQUEsR0FBQSxDQUFBLENBQUEsVUFBQSxTQUFBLE1BQUEsQ0FBQSxDQUFBLENBQUEsVUFBQSxZQUFBLE1BQUEsV0FBQSxPQUFBLENBQUEsRUFBQSxDQUFBLGFBQUEsQ0FBQSxRQUFBLFVBQUEsQ0FBQSxNQUFBLE1BQUEsQ0FBQSxTQUFBLENBQUEsUUFBQSxDQUFBLFFBQUEsVUFBQSxDQUFBLENBQUEsT0FBQSxDQUFBLENBQUEsTUFBQSxTQUFBLElBQUEsSUFBQSxDQUFBLENBQUEsSUFBQSxDQUFBLENBQUEsd0JBQUEsSUFBQSxHQUFBLENBQUEsQ0FBQSxVQUFBLFFBQUEsQ0FBQSxHQUFBLENBQUEsYUFBQSxDQUFBLGlCQUFBLENBQUEsbUJBQUEsQ0FBQSxLQUFBLENBQUEsQ0FBQSxNQUFBLElBQUEsQ0FBQSxJQUFBLENBQUEsSUFBQSxDQUFBLENBQUEsVUFBQSxLQUFBLENBQUEsY0FBQSxDQUFBLEdBQUEsQ0FBQSxHQUFBLENBQUEsQ0FBQSxVQUFBLGNBQUEsQ0FBQSxDQUFBLElBQUEsR0FBQSxDQUFBLEVBQUEsQ0FBQSxDQUFBLEdBQUEsR0FBQSxDQUFBLEVBQUEsQ0FBQSxTQUFBLE1BQUEsZ0JBQUEsSUFBQSxHQUFBLENBQUEsQ0FBQSxVQUFBLEVBQUEsQ0FBQSxTQUFBLFFBQUEsQ0FBQSxDQUFBLE1BQUEsUUFBQSxXQUFBLFNBQUEsQ0FBQSxFQUFBLENBQUEsb0JBQUEsQ0FBQSxDQUFBLElBQUEsUUFBQSxDQUFBLENBQUEsR0FBQSxxQkFBQSxDQUFBLENBQUEsSUFBQSxtQkFBQSxDQUFBLENBQUEsSUFBQSxRQUFBLElBQUEsR0FBQSxDQUFBLENBQUEsR0FBQSxnQkFBQSxDQUFBLENBQUEsSUFBQSxTQUFBLElBQUEsUUFBQSxHQUFBLEdBQUEsQ0FBQSxDQUFBLEdBQUEsT0FBQSxNQUFBLGtCQUFBLElBQUEseUJBQUEsQ0FBQSxDQUFBLElBQUEsSUFBQSxDQUFBLFVBQUEsSUFBQSxHQUFBLENBQUEsR0FBQSxDQUFBLEtBQUEsTUFBQSxXQUFBLE9BQUEsQ0FBQSxhQUFBLENBQUEsUUFBQSxVQUFBLENBQUEsTUFBQSxNQUFBLENBQUEsU0FBQSxDQUFBLFFBQUEsQ0FBQSxRQUFBLFVBQUEsQ0FBQSxDQUFBLE9BQUEsQ0FBQSxDQUFBLFVBQUEsS0FBQSxDQUFBLGNBQUEsUUFBQSxDQUFBLENBQUEsQ0FBQSxVQUFBLEVBQUEsQ0FBQSxDQUFBLFFBQUEsR0FBQSxhQUFBLENBQUEsQ0FBQSxHQUFBLENBQUEseUJBQUEsT0FBQSxDQUFBLGFBQUEsQ0FBQSxRQUFBLFVBQUEsQ0FBQSxNQUFBLE1BQUEsQ0FBQSxTQUFBLENBQUEsUUFBQSxDQUFBLFFBQUEsVUFBQSxDQUFBLENBQUEsT0FBQSxDQUFBLENBQUEsTUFBQSxLQUFBLENBQUEsUUFBQSxDQUFBLEdBQUEsQ0FBQSxDQUFBLFVBQUEsa0JBQUEsQ0FBQSxDQUFBLElBQUEsUUFBQSxDQUFBLEdBQUEsQ0FBQSxDQUFBLEdBQUEsRUFBQSxhQUFBLENBQUEsQ0FBQSxZQUFBLENBQUEsWUFBQSxLQUFBLDhCQUFBLGFBQUEsV0FBQSxjQUFBLENBQUEsRUFBQSxDQUFBLEVBQUEsQ0FBQSxnQkFBQSxRQUFBLEtBQUEsUUFBQSxFQUFBLE1BQUEsQ0FBQSxDQUFBLEdBQUEsVUFBQSxFQUFBLENBQUEsRUFBQSxPQUFBLEVBQUEsQ0FBQSxvQkFBQSxNQUFBLFVBQUEsR0FBQSxHQUFBLENBQUEsR0FBQSxDQUFBLE9BQUEsQ0FBQTtBQUFBLFNBQUEsbUJBQUEsQ0FBQSxFQUFBLENBQUEsRUFBQSxDQUFBLEVBQUEsQ0FBQSxFQUFBLENBQUEsRUFBQSxDQUFBLEVBQUEsQ0FBQSxjQUFBLENBQUEsR0FBQSxDQUFBLENBQUEsQ0FBQSxFQUFBLENBQUEsR0FBQSxDQUFBLEdBQUEsQ0FBQSxDQUFBLEtBQUEsV0FBQSxDQUFBLGdCQUFBLENBQUEsQ0FBQSxDQUFBLEtBQUEsQ0FBQSxDQUFBLElBQUEsR0FBQSxDQUFBLENBQUEsQ0FBQSxJQUFBLE9BQUEsQ0FBQSxPQUFBLENBQUEsQ0FBQSxFQUFBLElBQUEsQ0FB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O0lBQ1YsV0FBVyxHQUFBLElBQUEsQ0FBWCxXQUFXO0lBQ1gsbUJBQW1CLEdBQUEsSUFBQSxDQUFuQixtQkFBbUI7SUFDbkIsWUFBWSxHQUFBLElBQUEsQ0FBWixZQUFZO0lBQ1osa0JBQWtCLEdBQUEsSUFBQSxDQUFsQixrQkFBa0I7RUFFbEIsQ0FBQyxDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUU7SUFDWixNQUFNLEVBQUUsZ0JBQWdCO0lBQ3hCLFdBQVcsRUFBRSxVQUFVO0lBQ3ZCLFlBQVksRUFBRSxXQUFXO0lBQ3pCLFdBQVcsRUFBRTtFQUNqQixDQUFDLEVBQUUsVUFBVSxRQUFRLEVBQUU7SUFDbkIsSUFBSSxRQUFRLENBQUMsT0FBTyxFQUFFO01BQ2xCLElBQU0sSUFBSSxHQUFHLENBQUMsQ0FBQyxtQkFBbUIsQ0FBQztNQUNuQyxJQUFJLENBQUMsTUFBTSxDQUFDLFVBQVUsR0FBRyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUM7TUFDMUQsNkJBQTZCLENBQUMsVUFBVSxFQUFFLFlBQVksRUFBRSxrQkFBa0IsQ0FBQztNQUMzRSxvQkFBb0IsQ0FBQyxVQUFVLEVBQUUsV0FBVyxDQUFDO0lBQ2pEO0VBQ0osQ0FBQyxDQUFDO0FBQ04iLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbigpe2Z1bmN0aW9uIHIoZSxuLHQpe2Z1bmN0aW9uIG8oaSxmKXtpZighbltpXSl7aWYoIWVbaV0pe3ZhciBjPVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWYmJmMpcmV0dXJuIGMoaSwhMCk7aWYodSlyZXR1cm4gdShpLCEwKTt2YXIgYT1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK2krXCInXCIpO3Rocm93IGEuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixhfXZhciBwPW5baV09e2V4cG9ydHM6e319O2VbaV1bMF0uY2FsbChwLmV4cG9ydHMsZnVuY3Rpb24ocil7dmFyIG49ZVtpXVsxXVtyXTtyZXR1cm4gbyhufHxyKX0scCxwLmV4cG9ydHMscixlLG4sdCl9cmV0dXJuIG5baV0uZXhwb3J0c31mb3IodmFyIHU9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZSxpPTA7aTx0Lmxlbmd0aDtpKyspbyh0W2ldKTtyZXR1cm4gb31yZXR1cm4gcn0pKCkiLCJpbXBvcnQgeyBpbml0VGFic1RvZ2dsZSB9IGZyb20gJy4vbW9kdWxlcy90YWJzLXRvZ2dsZS5qcyc7XG5pbXBvcnQgeyBRdWl6QXR0ZW1wdHNNb2R1bGUgfSBmcm9tICcuL21vZHVsZXMvcXVpei1hdHRlbXB0cy5qcyc7XG5pbXBvcnQgeyBFbnJvbGxlZFF1aXp6ZXNNb2R1bGUgfSBmcm9tICcuL21vZHVsZXMvZW5yb2xsZWQtcXVpenplcy5qcyc7XG5pbXBvcnQgeyBDT05GSUcgfSBmcm9tICcuL21vZHVsZXMvY29uZmlnLmpzJztcbndpbmRvdy4kID0galF1ZXJ5O1xuXG4kKGRvY3VtZW50KS5yZWFkeShhc3luYyBmdW5jdGlvbiAoKSB7XG4gICAgaW5pdFRhYnNUb2dnbGUoKTtcbiAgICBpZiAoIHR5cGVvZiBtYXN0ZXJzdHVkeV9xdWl6X2F0dGVtcHRzICE9PSBcInVuZGVmaW5lZFwiICYmICQoIENPTkZJRy5zZWxlY3RvcnMucXVpelN0YW5kYWxvbmUuY29udGFpbmVyICkubGVuZ3RoICkge1xuICAgICAgICBRdWl6QXR0ZW1wdHNNb2R1bGUuaW5pdCgnc3RhbmRhbG9uZScpO1xuICAgIH1cbiAgICBpZiAoICQoICcubWFzdGVyc3R1ZHktZW5yb2xsZWQtcXVpenplcy1jb250YWluZXInICkubGVuZ3RoICkge1xuICAgICAgICBFbnJvbGxlZFF1aXp6ZXNNb2R1bGUuaW5pdCgpO1xuICAgIH1cbn0pO1xuIiwiZXhwb3J0IGNvbnN0IENPTkZJRyA9IHtcbiAgICBhcGlCYXNlOiBtc19sbXNfcmVzdHVybCxcbiAgICBub25jZTogbXNfbG1zX25vbmNlLFxuXG4gICAgZW5kcG9pbnRzOiB7XG4gICAgICAgIHF1aXpBdHRlbXB0czogXCIvcXVpei9hdHRlbXB0c1wiLFxuICAgICAgICBlbnJvbGxlZFF1aXp6ZXM6IFwiL2Vucm9sbGVkLXF1aXp6ZXNcIixcbiAgICB9LFxuXG4gICAgc2VsZWN0b3JzOiB7XG4gICAgICAgIHF1aXpIaXN0b3J5OiB7XG4gICAgICAgICAgICBuYXZpZ2F0aW9uOiBcIi5tYXN0ZXJzdHVkeS1jb3Vyc2UtcGxheWVyLXF1aXotYXR0ZW1wdHMtbmF2aWdhdGlvblwiLFxuICAgICAgICAgICAgcGVyUGFnZTogXCIubWFzdGVyc3R1ZHktY291cnNlLXBsYXllci1xdWl6LWF0dGVtcHRzLW5hdmlnYXRpb25fX3Blci1wYWdlXCIsXG4gICAgICAgICAgICBjb250YWluZXI6IFwiLm1hc3RlcnN0dWR5LWNvdXJzZS1wbGF5ZXItcXVpei1hdHRlbXB0c1wiLFxuICAgICAgICAgICAgdGVtcGxhdGVJZDogXCJtYXN0ZXJzdHVkeS1jb3Vyc2UtcGxheWVyLXF1aXotYXR0ZW1wdHMtdGVtcGxhdGVcIixcbiAgICAgICAgICAgIHBhZ2luYXRpb246IFwiLm1hc3RlcnN0dWR5LWNvdXJzZS1wbGF5ZXItcXVpei1hdHRlbXB0cy1uYXZpZ2F0aW9uX19wYWdpbmF0aW9uXCIsXG4gICAgICAgICAgICBwcmVmaXg6IFwiLm1hc3RlcnN0dWR5LWNvdXJzZS1wbGF5ZXItcXVpei1hdHRlbXB0XCIsXG4gICAgICAgIH0sXG4gICAgICAgIHF1aXpTdGFuZGFsb25lOiB7XG4gICAgICAgICAgICBuYXZpZ2F0aW9uOiBcIi5tYXN0ZXJzdHVkeS1xdWl6LWF0dGVtcHRzLW5hdmlnYXRpb25cIixcbiAgICAgICAgICAgIHBlclBhZ2U6IFwiLm1hc3RlcnN0dWR5LXF1aXotYXR0ZW1wdHMtbmF2aWdhdGlvbl9fcGVyLXBhZ2VcIixcbiAgICAgICAgICAgIGNvbnRhaW5lcjogXCIubWFzdGVyc3R1ZHktcXVpei1hdHRlbXB0c1wiLFxuICAgICAgICAgICAgdGVtcGxhdGVJZDogXCJtYXN0ZXJzdHVkeS1xdWl6LWF0dGVtcHRzLXRlbXBsYXRlXCIsXG4gICAgICAgICAgICBwYWdpbmF0aW9uOiBcIi5tYXN0ZXJzdHVkeS1xdWl6LWF0dGVtcHRzLW5hdmlnYXRpb25fX3BhZ2luYXRpb25cIixcbiAgICAgICAgICAgIHByZWZpeDogXCIubWFzdGVyc3R1ZHktcXVpei1hdHRlbXB0XCJcbiAgICAgICAgfSxcbiAgICAgICAgZW5yb2xsZWRRdWl6emVzOiB7XG4gICAgICAgICAgICBuYXZpZ2F0aW9uOiBcIi5tYXN0ZXJzdHVkeS1lbnJvbGxlZC1xdWl6emVzLW5hdmlnYXRpb25cIixcbiAgICAgICAgICAgIHBlclBhZ2U6IFwiLm1hc3RlcnN0dWR5LWVucm9sbGVkLXF1aXp6ZXMtbmF2aWdhdGlvbl9fcGVyLXBhZ2VcIixcbiAgICAgICAgICAgIGNvbnRhaW5lcjogXCIubWFzdGVyc3R1ZHktZW5yb2xsZWQtcXVpenplcy1jb250YWluZXJcIixcbiAgICAgICAgICAgIHRlbXBsYXRlSWQ6IFwibWFzdGVyc3R1ZHktZW5yb2xsZWQtcXVpenplcy10ZW1wbGF0ZVwiLFxuICAgICAgICAgICAgcGFnaW5hdGlvbjogXCIubWFzdGVyc3R1ZHktZW5yb2xsZWQtcXVpenplcy1uYXZpZ2F0aW9uX19wYWdpbmF0aW9uXCIsXG4gICAgICAgICAgICBwcmVmaXg6IFwiLm1hc3RlcnN0dWR5LWVucm9sbGVkLXF1aXp6ZXMtaXRlbVwiXG4gICAgICAgIH1cbiAgICB9XG59O1xuIiwiaW1wb3J0IHsgQ09ORklHIH0gZnJvbSAnLi9jb25maWcuanMnO1xuaW1wb3J0IHtiaW5kUGVyUGFnZUhhbmRsZXIsIHJlbmRlclBhZ2luYXRpb24sIHVwZGF0ZVBhZ2luYXRpb25WaWV3fSBmcm9tICcuL3V0aWxzLmpzJztcbndpbmRvdy4kID0galF1ZXJ5O1xuXG5leHBvcnQgY29uc3QgRW5yb2xsZWRRdWl6emVzTW9kdWxlID0gKGZ1bmN0aW9uICgpIHtcbiAgICBjb25zdCBjb25maWcgPSB7XG4gICAgICAgIHNlbGVjdG9yczogQ09ORklHLnNlbGVjdG9ycy5lbnJvbGxlZFF1aXp6ZXMsXG4gICAgICAgIGVuZHBvaW50OiBDT05GSUcuZW5kcG9pbnRzLmVucm9sbGVkUXVpenplcyxcbiAgICB9O1xuICAgIGxldCB0b3RhbFBhZ2VzID0gMTtcblxuICAgIGZ1bmN0aW9uIGZldGNoUXVpenplcyhwZXJQYWdlID0gdW5kZWZpbmVkLCBjdXJyZW50UGFnZSA9IDEpIHtcbiAgICAgICAgbGV0IHVybCA9IENPTkZJRy5hcGlCYXNlICsgY29uZmlnLmVuZHBvaW50O1xuICAgICAgICBjb25zdCBxdWVyeSA9IFtdO1xuICAgICAgICBjb25zdCAkaW5wdXQgPSAkKCcubWFzdGVyc3R1ZHktZW5yb2xsZWQtcXVpenplcy1zZWFyY2hfX2lucHV0Jyk7XG4gICAgICAgIGNvbnN0IHNlYXJjaFF1ZXJ5ID0gJGlucHV0Lmxlbmd0aCA/ICRpbnB1dC52YWwoKS50cmltKCkgOiAnJztcblxuICAgICAgICBpZiAoc2VhcmNoUXVlcnkpIHF1ZXJ5LnB1c2goYHM9JHtlbmNvZGVVUklDb21wb25lbnQoc2VhcmNoUXVlcnkpfWApO1xuICAgICAgICBpZiAocGVyUGFnZSkgcXVlcnkucHVzaChgcGVyX3BhZ2U9JHtwZXJQYWdlfWApO1xuICAgICAgICBpZiAoY3VycmVudFBhZ2UpIHF1ZXJ5LnB1c2goYGN1cnJlbnRfcGFnZT0ke2N1cnJlbnRQYWdlfWApO1xuICAgICAgICBpZiAocXVlcnkubGVuZ3RoKSB1cmwgKz0gYD8ke3F1ZXJ5LmpvaW4oXCImXCIpfWA7XG5cbiAgICAgICAgdXBkYXRlUGFnaW5hdGlvblZpZXcoIHRvdGFsUGFnZXMsIGN1cnJlbnRQYWdlICk7XG5cbiAgICAgICAgY29uc3QgJGNvbnRhaW5lciA9ICQoY29uZmlnLnNlbGVjdG9ycy5jb250YWluZXIpO1xuXG4gICAgICAgICQoICcubWFzdGVyc3R1ZHktZW5yb2xsZWQtcXVpenplc19fY291cnNlLCAubWFzdGVyc3R1ZHktZW5yb2xsZWQtcXVpenplcy1uby1mb3VuZF9faW5mbycsIGNvbmZpZy5zZWxlY3RvcnMuY29udGFpbmVyICkucmVtb3ZlKCk7XG5cbiAgICAgICAgJGNvbnRhaW5lci5hZGRDbGFzcyhcInF1aXp6ZXMtbG9hZGluZ1wiKTtcblxuICAgICAgICBmZXRjaCh1cmwsIHtcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICBcIlgtV1AtTm9uY2VcIjogQ09ORklHLm5vbmNlLFxuICAgICAgICAgICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4ocmVzID0+IHJlcy5qc29uKCkpXG4gICAgICAgIC50aGVuKGRhdGEgPT4ge1xuICAgICAgICAgICAgJGNvbnRhaW5lci5jc3MoXCJoZWlnaHRcIiwgXCJhdXRvXCIpLnJlbW92ZUNsYXNzKFwicXVpenplcy1sb2FkaW5nXCIpO1xuICAgICAgICAgICAgJChcIi5tYXN0ZXJzdHVkeS1lbnJvbGxlZC1xdWl6emVzIC5zdG1fbG1zX3VzZXJfaW5mb190b3AgaDNcIikuaHRtbChmdW5jdGlvbiAoXywgaHRtbCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBodG1sLnJlcGxhY2UoLzxzcGFuPi4qPFxcL3NwYW4+LywgXCJcIikgKyBgIDxzcGFuPiR7ZGF0YS50b3RhbF9xdWl6emVzfTwvc3Bhbj5gO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICQoICcubWFzdGVyc3R1ZHktZW5yb2xsZWQtcXVpenplc19fY291cnNlLCAubWFzdGVyc3R1ZHktZW5yb2xsZWQtcXVpenplcy1uby1mb3VuZF9faW5mbycsIGNvbmZpZy5zZWxlY3RvcnMuY29udGFpbmVyICkucmVtb3ZlKCk7XG5cbiAgICAgICAgICAgIHVwZGF0ZVBhZ2luYXRpb24oZGF0YS5wYWdlcywgY3VycmVudFBhZ2UpO1xuXG4gICAgICAgICAgICBpZiAoIWRhdGEuY291cnNlcyB8fCBkYXRhLmNvdXJzZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdGVtcGxhdGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWFzdGVyc3R1ZHktZW5yb2xsZWQtcXVpenplcy1uby1mb3VuZC10ZW1wbGF0ZScpO1xuICAgICAgICAgICAgICAgIGlmICggdGVtcGxhdGUgKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNsb25lID0gdGVtcGxhdGUuY29udGVudC5jbG9uZU5vZGUodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICQoIGNvbmZpZy5zZWxlY3RvcnMubmF2aWdhdGlvbiApLmhpZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgJCggc2VhcmNoUXVlcnkgPyAnLm1hc3RlcnN0dWR5LWVucm9sbGVkLXF1aXp6ZXMtbm8tZm91bmRfX2l0ZW1zJyA6ICcubWFzdGVyc3R1ZHktZW5yb2xsZWQtcXVpenplcy1uby1mb3VuZF9fc2VhcmNoJywgY2xvbmUgKS5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgJGNvbnRhaW5lci5hcHBlbmQoY2xvbmUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICQoIGNvbmZpZy5zZWxlY3RvcnMubmF2aWdhdGlvbiApLnNob3coKTtcblxuICAgICAgICAgICAgdG90YWxQYWdlcyA9IGRhdGEucGFnZXM7XG4gICAgICAgICAgICAoZGF0YS5jb3Vyc2VzIHx8IFtdKS5mb3JFYWNoKGNvdXJzZSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgaHRtbCA9IHJlbmRlckNvdXJzZVRlbXBsYXRlKGNvdXJzZSk7XG4gICAgICAgICAgICAgICAgJGNvbnRhaW5lci5hcHBlbmQoaHRtbCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgZmV0Y2hpbmcgZW5yb2xsZWQgcXVpenplczpcIiwgZXJyKTtcbiAgICAgICAgICAgICRjb250YWluZXIuY3NzKFwiaGVpZ2h0XCIsIFwiYXV0b1wiKS5yZW1vdmVDbGFzcyhcInF1aXp6ZXMtbG9hZGluZ1wiKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmVuZGVyQ291cnNlVGVtcGxhdGUoY291cnNlKSB7XG4gICAgICAgIGNvbnN0IHRlbXBsYXRlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoY29uZmlnLnNlbGVjdG9ycy50ZW1wbGF0ZUlkKTtcbiAgICAgICAgaWYgKCF0ZW1wbGF0ZSkgcmV0dXJuICcnO1xuICAgICAgICBjb25zdCBjbG9uZSA9IHRlbXBsYXRlLmNvbnRlbnQuY2xvbmVOb2RlKHRydWUpO1xuXG4gICAgICAgIGNvbnN0IGNvdXJzZUxpbmsgPSBjbG9uZS5xdWVyeVNlbGVjdG9yKCcubWFzdGVyc3R1ZHktZW5yb2xsZWQtcXVpenplcy1jb3Vyc2VfX2xpbmsnKTtcbiAgICAgICAgY291cnNlTGluay50ZXh0Q29udGVudCA9IGNvdXJzZS50aXRsZTtcbiAgICAgICAgY291cnNlTGluay5ocmVmID0gY291cnNlLnVybDtcblxuICAgICAgICBjb25zdCBpdGVtc0NvbnRhaW5lciA9IGNsb25lLnF1ZXJ5U2VsZWN0b3IoJy5tYXN0ZXJzdHVkeS1lbnJvbGxlZC1xdWl6emVzLWl0ZW1zJyk7XG4gICAgICAgIGNvbnN0IGl0ZW1UZW1wbGF0ZSA9IGNsb25lLnF1ZXJ5U2VsZWN0b3IoJy5tYXN0ZXJzdHVkeS1lbnJvbGxlZC1xdWl6emVzLWl0ZW0nKTtcblxuICAgICAgICBpdGVtc0NvbnRhaW5lci5pbm5lckhUTUwgPSAnJztcbiAgICAgICAgT2JqZWN0LnZhbHVlcyhjb3Vyc2UucXVpenplcyB8fCB7fSkuZm9yRWFjaChxdWl6ID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGl0ZW0gPSBpdGVtVGVtcGxhdGUuY2xvbmVOb2RlKHRydWUpO1xuICAgICAgICAgICAgaXRlbS5xdWVyeVNlbGVjdG9yKCcubWFzdGVyc3R1ZHktZW5yb2xsZWQtcXVpenplcy1pdGVtX19uYW1lLS1saW5rJykudGV4dENvbnRlbnQgPSBxdWl6LnRpdGxlO1xuICAgICAgICAgICAgaXRlbS5xdWVyeVNlbGVjdG9yKCcubWFzdGVyc3R1ZHktZW5yb2xsZWQtcXVpenplcy1pdGVtX19uYW1lLS1saW5rJykuaHJlZiA9IHF1aXoudXJsO1xuICAgICAgICAgICAgaXRlbS5xdWVyeVNlbGVjdG9yKCcubWFzdGVyc3R1ZHktZW5yb2xsZWQtcXVpenplcy1pdGVtX19hdHRlbXB0cycpLnRleHRDb250ZW50ID0gcXVpei5hdHRlbXB0cy5jb3VudDtcbiAgICAgICAgICAgIGl0ZW0ucXVlcnlTZWxlY3RvcignLm1hc3RlcnN0dWR5LWVucm9sbGVkLXF1aXp6ZXMtaXRlbV9fcXVlc3Rpb25zJykudGV4dENvbnRlbnQgPSBxdWl6LnF1ZXN0aW9ucztcbiAgICAgICAgICAgIGl0ZW0ucXVlcnlTZWxlY3RvcignLm1hc3RlcnN0dWR5LWVucm9sbGVkLXF1aXp6ZXMtaXRlbV9fcHJvZ3Jlc3MnKS5kYXRhc2V0LnF1aXpQcm9ncmVzcyA9IHF1aXoucHJvZ3Jlc3M7XG4gICAgICAgICAgICBpdGVtLnF1ZXJ5U2VsZWN0b3IoJy5tYXN0ZXJzdHVkeS1lbnJvbGxlZC1xdWl6emVzLWl0ZW1fX3Byb2dyZXNzLS1maWxsZWQnKS5zdHlsZS53aWR0aCA9IGAke3F1aXoucHJvZ3Jlc3N9JWA7XG4gICAgICAgICAgICBpdGVtLnF1ZXJ5U2VsZWN0b3IoJy5tYXN0ZXJzdHVkeS1lbnJvbGxlZC1xdWl6emVzLWl0ZW1fX3Byb2dyZXNzLS1zdGF0dXMnKS50ZXh0Q29udGVudCA9IGAke3F1aXouZ3JhZGV9YDtcbiAgICAgICAgICAgIGNvbnN0IHN0YXR1c0VsID0gaXRlbS5xdWVyeVNlbGVjdG9yKCcubWFzdGVyc3R1ZHktZW5yb2xsZWQtcXVpenplcy1pdGVtX19zdGF0dXMnKTtcbiAgICAgICAgICAgIHN0YXR1c0VsLnRleHRDb250ZW50ID0gcXVpei5zdGF0dXMubGFiZWw7XG4gICAgICAgICAgICBzdGF0dXNFbC5kYXRhc2V0LnF1aXpTdGF0dXMgPSBxdWl6LnN0YXR1cy52YWx1ZTtcbiAgICAgICAgICAgIHN0YXR1c0VsLmNsYXNzTGlzdC5hZGQocXVpei5zdGF0dXMudmFsdWUpO1xuICAgICAgICAgICAgaXRlbS5xdWVyeVNlbGVjdG9yKCcubWFzdGVyc3R1ZHktZW5yb2xsZWQtcXVpenplcy1pdGVtX19kZXRhaWxzJykuaHJlZiA9IHF1aXouYXR0ZW1wdHMudXJsO1xuICAgICAgICAgICAgaXRlbXNDb250YWluZXIuYXBwZW5kQ2hpbGQoaXRlbSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBjbG9uZTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB1cGRhdGVQYWdpbmF0aW9uKHRvdGFsUGFnZXMsIGN1cnJlbnRQYWdlKSB7XG4gICAgICAgIHJlbmRlclBhZ2luYXRpb24oe1xuICAgICAgICAgICAgYWpheHVybDogc3RtX2xtc19hamF4dXJsLFxuICAgICAgICAgICAgbm9uY2U6IHN0bV9sbXNfbm9uY2VzLnN0bV9sbXNfZW5yb2xsZWRfcXVpenplcyxcbiAgICAgICAgICAgIHRvdGFsUGFnZXMsXG4gICAgICAgICAgICBjdXJyZW50UGFnZSxcbiAgICAgICAgICAgIHBhZ2luYXRpb25Db250YWluZXI6IGNvbmZpZy5zZWxlY3RvcnMucGFnaW5hdGlvbixcbiAgICAgICAgICAgIG9uUGFnZUNoYW5nZTogZmV0Y2hRdWl6emVzLFxuICAgICAgICAgICAgZ2V0UGVyUGFnZVNlbGVjdG9yOiAoKSA9PiAnI2Vucm9sbGVkLXF1aXp6ZXMtcGVyLXBhZ2UnLFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBpbml0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBiaW5kUGVyUGFnZUhhbmRsZXIoJCggY29uZmlnLnNlbGVjdG9ycy5wcmVmaXgsIGNvbmZpZy5zZWxlY3RvcnMuY29udGFpbmVyICksIGNvbmZpZy5zZWxlY3RvcnMucGVyUGFnZSwgZmV0Y2hRdWl6emVzKTtcbiAgICAgICAgICAgIGZldGNoUXVpenplcygpO1xuICAgICAgICAgICAgaW5pdFNlYXJjaCgpO1xuICAgICAgICB9LFxuICAgIH07XG5cbiAgICBmdW5jdGlvbiBpbml0U2VhcmNoKCkge1xuICAgICAgICBjb25zdCAkaW5wdXQgPSAkKCcubWFzdGVyc3R1ZHktZW5yb2xsZWQtcXVpenplcy1zZWFyY2hfX2lucHV0Jyk7XG4gICAgICAgIGlmICghJGlucHV0Lmxlbmd0aCkgcmV0dXJuO1xuXG4gICAgICAgIGxldCB0aW1lcjtcbiAgICAgICAgbGV0IGxhc3RRdWVyeSA9ICcnO1xuXG4gICAgICAgICRpbnB1dC5vZmYoXCJpbnB1dFwiKS5vbihcImlucHV0XCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aW1lcik7XG4gICAgICAgICAgICB0aW1lciA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHF1ZXJ5ID0gJGlucHV0LnZhbCgpLnRyaW0oKTtcbiAgICAgICAgICAgICAgICBpZiAocXVlcnkgIT09IGxhc3RRdWVyeSkge1xuICAgICAgICAgICAgICAgICAgICBsYXN0UXVlcnkgPSBxdWVyeTtcbiAgICAgICAgICAgICAgICAgICAgZmV0Y2hRdWl6emVzKCQoXCIjZW5yb2xsZWQtcXVpenplcy1wZXItcGFnZVwiKS52YWwoKSwgMSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgMzAwKTtcbiAgICAgICAgfSk7XG4gICAgfVxufSkoKTtcbiIsImltcG9ydCB7IENPTkZJRyB9IGZyb20gJy4vY29uZmlnLmpzJztcbmltcG9ydCB7YmluZFBlclBhZ2VIYW5kbGVyLCByZW5kZXJQYWdpbmF0aW9uLCB1cGRhdGVQYWdpbmF0aW9uVmlld30gZnJvbSAnLi91dGlscy5qcyc7XG53aW5kb3cuJCA9IGpRdWVyeTtcblxuZXhwb3J0IGNvbnN0IFF1aXpBdHRlbXB0c01vZHVsZSA9IChmdW5jdGlvbiAoKSB7XG4gICAgY29uc3QgY29uZmlnID0ge1xuICAgICAgICBtb2RlOiAnc3RhbmRhbG9uZScsXG4gICAgICAgIHNlbGVjdG9yczogQ09ORklHLnNlbGVjdG9ycy5xdWl6U3RhbmRhbG9uZSxcbiAgICAgICAgZW5kcG9pbnQ6IENPTkZJRy5lbmRwb2ludHMucXVpekF0dGVtcHRzLFxuICAgIH07XG4gICAgbGV0IHRvdGFsUGFnZXMgPSAxO1xuXG4gICAgZnVuY3Rpb24gc2V0TW9kZShtb2RlKSB7XG4gICAgICAgIGNvbmZpZy5tb2RlID0gbW9kZTtcbiAgICAgICAgY29uZmlnLnNlbGVjdG9ycyA9IG1vZGUgPT09ICdoaXN0b3J5JyA/IENPTkZJRy5zZWxlY3RvcnMucXVpekhpc3RvcnkgOiBDT05GSUcuc2VsZWN0b3JzLnF1aXpTdGFuZGFsb25lO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGZldGNoQXR0ZW1wdHMocGVyUGFnZSA9IHVuZGVmaW5lZCwgY3VycmVudFBhZ2UgPSAxKSB7XG4gICAgICAgIGxldCB1cmwgPSBDT05GSUcuYXBpQmFzZSArIGNvbmZpZy5lbmRwb2ludDtcbiAgICAgICAgY29uc3QgcXVlcnkgPSBbXTtcblxuICAgICAgICBpZiAocGVyUGFnZSkgcXVlcnkucHVzaChgcGVyX3BhZ2U9JHtwZXJQYWdlfWApO1xuICAgICAgICBpZiAoY3VycmVudFBhZ2UpIHF1ZXJ5LnB1c2goYGN1cnJlbnRfcGFnZT0ke2N1cnJlbnRQYWdlfWApO1xuICAgICAgICBpZiAobWFzdGVyc3R1ZHlfcXVpel9hdHRlbXB0cy5jb3Vyc2VfaWQpIHF1ZXJ5LnB1c2goYGNvdXJzZV9pZD0ke21hc3RlcnN0dWR5X3F1aXpfYXR0ZW1wdHMuY291cnNlX2lkfWApO1xuICAgICAgICBpZiAobWFzdGVyc3R1ZHlfcXVpel9hdHRlbXB0cy5xdWl6X2lkKSBxdWVyeS5wdXNoKGBxdWl6X2lkPSR7bWFzdGVyc3R1ZHlfcXVpel9hdHRlbXB0cy5xdWl6X2lkfWApO1xuICAgICAgICBpZiAocXVlcnkubGVuZ3RoKSB1cmwgKz0gYD8ke3F1ZXJ5LmpvaW4oXCImXCIpfWA7XG5cbiAgICAgICAgdXBkYXRlUGFnaW5hdGlvblZpZXcoIHRvdGFsUGFnZXMsIGN1cnJlbnRQYWdlICk7XG5cbiAgICAgICAgY29uc3QgJGNvbnRhaW5lciA9ICQoY29uZmlnLnNlbGVjdG9ycy5jb250YWluZXIpO1xuXG4gICAgICAgICQoIGNvbmZpZy5zZWxlY3RvcnMucHJlZml4LCAkY29udGFpbmVyICkucmVtb3ZlKCk7XG5cbiAgICAgICAgJGNvbnRhaW5lci5hZGRDbGFzcyhcInF1aXotYXR0ZW1wdHMtbG9hZGluZ1wiKTtcblxuICAgICAgICBmZXRjaCh1cmwsIHtcbiAgICAgICAgICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICBcIlgtV1AtTm9uY2VcIjogQ09ORklHLm5vbmNlLFxuICAgICAgICAgICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4ocmVzID0+IHJlcy5qc29uKCkpXG4gICAgICAgIC50aGVuKGRhdGEgPT4ge1xuICAgICAgICAgICAgJGNvbnRhaW5lci5jc3MoXCJoZWlnaHRcIiwgXCJhdXRvXCIpLnJlbW92ZUNsYXNzKFwicXVpei1hdHRlbXB0cy1sb2FkaW5nXCIpO1xuICAgICAgICAgICAgJCggY29uZmlnLnNlbGVjdG9ycy5wcmVmaXgsICRjb250YWluZXIgKS5yZW1vdmUoKTtcblxuICAgICAgICAgICAgdG90YWxQYWdlcyA9IGRhdGEucGFnZXM7XG5cbiAgICAgICAgICAgIHVwZGF0ZVBhZ2luYXRpb24oZGF0YS5wYWdlcywgY3VycmVudFBhZ2UpO1xuICAgICAgICAgICAgKGRhdGEuYXR0ZW1wdHMgfHwgW10pLmZvckVhY2goYXR0ZW1wdCA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgaHRtbCA9IHJlbmRlckF0dGVtcHRUZW1wbGF0ZShhdHRlbXB0KTtcbiAgICAgICAgICAgICAgICAkY29udGFpbmVyLmFwcGVuZChodG1sKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBmZXRjaGluZyBxdWl6IGF0dGVtcHRzOlwiLCBlcnIpO1xuICAgICAgICAgICAgJGNvbnRhaW5lci5jc3MoXCJoZWlnaHRcIiwgXCJhdXRvXCIpLnJlbW92ZUNsYXNzKFwicXVpei1hdHRlbXB0cy1sb2FkaW5nXCIpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiByZW5kZXJBdHRlbXB0VGVtcGxhdGUoYXR0ZW1wdCkge1xuICAgICAgICBjb25zdCB0ZW1wbGF0ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGNvbmZpZy5zZWxlY3RvcnMudGVtcGxhdGVJZCk7XG4gICAgICAgIGlmICghdGVtcGxhdGUpIHJldHVybiAnJztcbiAgICAgICAgY29uc3QgY2xvbmUgPSB0ZW1wbGF0ZS5jb250ZW50LmNsb25lTm9kZSh0cnVlKTtcbiAgICAgICAgY29uc3QgJCA9IChzZWxlY3RvcikgPT4gY2xvbmUucXVlcnlTZWxlY3RvcihzZWxlY3Rvcik7XG4gICAgICAgIGNvbnN0IHByZWZpeCA9IGNvbmZpZy5zZWxlY3RvcnMucHJlZml4O1xuICAgICAgICBjb25zdCBkYXRlID0gJChgJHtwcmVmaXh9X19kYXRlYCk7XG5cbiAgICAgICAgbGV0IHNlbGVjdG9yRGF0ZSA9IGRhdGUuZ2V0QXR0cmlidXRlKCAnZGF0YS1oZWFkZXInICkucmVwbGFjZSggJyVzJywgYXR0ZW1wdC5udW1iZXIgKTtcblxuICAgICAgICAkKGAke3ByZWZpeH1fX251bWJlcmApLnRleHRDb250ZW50ID0gYXR0ZW1wdC5udW1iZXI7XG4gICAgICAgIGRhdGUuc2V0QXR0cmlidXRlKCAnZGF0YS1oZWFkZXInLCBzZWxlY3RvckRhdGUgKTtcbiAgICAgICAgJChgJHtwcmVmaXh9X19kYXRlLS12YWx1ZWApLnRleHRDb250ZW50ID0gYXR0ZW1wdC5jcmVhdGVkX2F0LmRhdGU7XG4gICAgICAgICQoYCR7cHJlZml4fV9fZGF0ZS0tdGltZWApLnRleHRDb250ZW50ID0gYXR0ZW1wdC5jcmVhdGVkX2F0LnRpbWU7XG4gICAgICAgICQoYCR7cHJlZml4fV9fcXVlc3Rpb25zYCkudGV4dENvbnRlbnQgPSBhdHRlbXB0LnF1ZXN0aW9ucztcbiAgICAgICAgJChgJHtwcmVmaXh9X19jb3JyZWN0YCkudGV4dENvbnRlbnQgPSBhdHRlbXB0LmF0dGVtcHRzLmNvcnJlY3Q7XG4gICAgICAgICQoYCR7cHJlZml4fV9faW5jb3JyZWN0YCkudGV4dENvbnRlbnQgPSBhdHRlbXB0LmF0dGVtcHRzLmluY29ycmVjdDtcbiAgICAgICAgJChgJHtwcmVmaXh9X19wcm9ncmVzc2ApLnNldEF0dHJpYnV0ZShcImRhdGEtcXVpei1wcm9ncmVzc1wiLCBhdHRlbXB0LnByb2dyZXNzKTtcbiAgICAgICAgJChgJHtwcmVmaXh9X19wcm9ncmVzcy0tZmlsbGVkYCkuc3R5bGUud2lkdGggPSBgJHthdHRlbXB0LnByb2dyZXNzfSVgO1xuICAgICAgICAkKGAke3ByZWZpeH1fX2dyYWRlYCkudGV4dENvbnRlbnQgPSBgJHthdHRlbXB0LmdyYWRlfWA7XG4gICAgICAgICQoYCR7cHJlZml4fV9fc3RhdHVzYCkuc2V0QXR0cmlidXRlKFwiZGF0YS1xdWl6LXN0YXR1c1wiLCBhdHRlbXB0LnN0YXR1cy52YWx1ZSk7XG4gICAgICAgICQoYCR7cHJlZml4fV9fc3RhdHVzYCkudGV4dENvbnRlbnQgPSBhdHRlbXB0LnN0YXR1cy5sYWJlbDtcbiAgICAgICAgJChgJHtwcmVmaXh9X19zdGF0dXNgKS5jbGFzc0xpc3QuYWRkKGF0dGVtcHQuc3RhdHVzLnZhbHVlKTtcbiAgICAgICAgJChgJHtwcmVmaXh9X19kZXRhaWxzYCkuc2V0QXR0cmlidXRlKFwiaHJlZlwiLCBhdHRlbXB0LnVybCk7XG5cbiAgICAgICAgcmV0dXJuIGNsb25lO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHVwZGF0ZVBhZ2luYXRpb24odG90YWxQYWdlcywgY3VycmVudFBhZ2UpIHtcbiAgICAgICAgcmVuZGVyUGFnaW5hdGlvbih7XG4gICAgICAgICAgICBhamF4dXJsOiBzdG1fbG1zX2FqYXh1cmwsXG4gICAgICAgICAgICBub25jZTogc3RtX2xtc19ub25jZXMuc3RtX2xtc19lbnJvbGxlZF9xdWl6emVzLFxuICAgICAgICAgICAgdG90YWxQYWdlcyxcbiAgICAgICAgICAgIGN1cnJlbnRQYWdlLFxuICAgICAgICAgICAgcGFnaW5hdGlvbkNvbnRhaW5lcjogY29uZmlnLnNlbGVjdG9ycy5wYWdpbmF0aW9uLFxuICAgICAgICAgICAgb25QYWdlQ2hhbmdlOiBmZXRjaEF0dGVtcHRzLFxuICAgICAgICAgICAgZ2V0UGVyUGFnZVNlbGVjdG9yOiAoKSA9PiAnI3F1aXotYXR0ZW1wdHMtcGVyLXBhZ2UnLFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBpbml0OiBmdW5jdGlvbiAobW9kZSA9ICdzdGFuZGFsb25lJykge1xuICAgICAgICAgICAgc2V0TW9kZShtb2RlKTtcbiAgICAgICAgICAgIGJpbmRQZXJQYWdlSGFuZGxlcigkKCBjb25maWcuc2VsZWN0b3JzLnByZWZpeCwgY29uZmlnLnNlbGVjdG9ycy5jb250YWluZXIgKSwgY29uZmlnLnNlbGVjdG9ycy5wZXJQYWdlLCBmZXRjaEF0dGVtcHRzKTtcbiAgICAgICAgICAgIGZldGNoQXR0ZW1wdHMoKTtcbiAgICAgICAgfSxcbiAgICB9O1xufSkoKTtcbiIsImltcG9ydCB7IFF1aXpBdHRlbXB0c01vZHVsZSB9IGZyb20gJy4vcXVpei1hdHRlbXB0cy5qcyc7XG53aW5kb3cuJCA9IGpRdWVyeTtcblxuZXhwb3J0IGZ1bmN0aW9uIGluaXRUYWJzVG9nZ2xlKCkge1xuICAgIGNvbnN0IHRhYkNsYXNzID0gXCJtYXN0ZXJzdHVkeS10YWJzX19pdGVtXCI7XG4gICAgY29uc3QgYWN0aXZlQ2xhc3MgPSBcIm1hc3RlcnN0dWR5LXRhYnNfX2l0ZW1fYWN0aXZlXCI7XG4gICAgY29uc3QgcXVpekNvbnRlbnQgPSBcIi5tYXN0ZXJzdHVkeS1jb3Vyc2UtcGxheWVyLWNvbnRlbnRfX2hlYWRlcl9xdWl6LCAubWFzdGVyc3R1ZHktY291cnNlLXBsYXllci1xdWl6LCBbZGF0YS1pZD0ncXVpel9hbGVydCddXCI7XG4gICAgY29uc3QgYXR0ZW1wdHNDb250ZW50ID0gXCIubWFzdGVyc3R1ZHktY291cnNlLXBsYXllci1xdWl6LWF0dGVtcHRzLXdyYXBwZXJcIjtcbiAgICBsZXQgYmVmb3JlUmVxdWVzdCA9IGZhbHNlO1xuXG4gICAgJChgLiR7dGFiQ2xhc3N9W2RhdGEtaWRdYCkub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNvbnN0ICR0aGlzID0gJCh0aGlzKTtcbiAgICAgICAgY29uc3QgY3VycmVudElkID0gJHRoaXMuZGF0YShcImlkXCIpO1xuICAgICAgICBjb25zdCBwcmV2SWQgPSBjdXJyZW50SWQgPT09IFwicXVpelwiID8gXCJoaXN0b3J5XCIgOiBcInF1aXpcIjtcbiAgICAgICAgY29uc3QgdG9TaG93ID0gY3VycmVudElkID09PSBcInF1aXpcIiA/IHF1aXpDb250ZW50IDogYXR0ZW1wdHNDb250ZW50O1xuICAgICAgICBjb25zdCB0b0hpZGUgPSBjdXJyZW50SWQgPT09IFwicXVpelwiID8gYXR0ZW1wdHNDb250ZW50IDogcXVpekNvbnRlbnQ7XG5cbiAgICAgICAgJChgW2RhdGEtaWQ9JyR7cHJldklkfSddYCkucmVtb3ZlQ2xhc3MoYWN0aXZlQ2xhc3MpO1xuICAgICAgICAkdGhpcy5hZGRDbGFzcyhhY3RpdmVDbGFzcyk7XG4gICAgICAgICQodG9TaG93KS5yZW1vdmVDbGFzcyhcIm1hc3RlcnN0dWR5LWNvdXJzZS1wbGF5ZXItcXVpel9faGlkZVwiKS5zaG93KCk7XG4gICAgICAgICQodG9IaWRlKS5hZGRDbGFzcyhcIm1hc3RlcnN0dWR5LWNvdXJzZS1wbGF5ZXItcXVpel9faGlkZVwiKTtcblxuICAgICAgICBpZiAoY3VycmVudElkID09PSBcImhpc3RvcnlcIiAmJiAhYmVmb3JlUmVxdWVzdCkge1xuICAgICAgICAgICAgYmVmb3JlUmVxdWVzdCA9IHRydWU7XG4gICAgICAgICAgICBRdWl6QXR0ZW1wdHNNb2R1bGUuaW5pdChcImhpc3RvcnlcIik7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cbiIsIndpbmRvdy4kID0galF1ZXJ5O1xuXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlUGFnaW5hdGlvblZpZXcodG90YWxQYWdlcywgY3VycmVudFBhZ2UpIHtcbiAgICAkKFwiLm1hc3RlcnN0dWR5LXBhZ2luYXRpb25fX2l0ZW1cIikucmVtb3ZlQ2xhc3MoJ21hc3RlcnN0dWR5LXBhZ2luYXRpb25fX2l0ZW1fY3VycmVudCcpLmhpZGUoKTtcbiAgICBsZXQgc3RhcnQgPSBNYXRoLm1heCgxLCBjdXJyZW50UGFnZSAtIDEpO1xuICAgIGxldCBlbmQgPSBNYXRoLm1pbih0b3RhbFBhZ2VzLCBjdXJyZW50UGFnZSArIDEpO1xuXG4gICAgaWYgKGN1cnJlbnRQYWdlID09PSAxIHx8IHN0YXJ0ID09PSAxKSBlbmQgPSBNYXRoLm1pbih0b3RhbFBhZ2VzLCBzdGFydCArIDIpO1xuICAgIGlmIChjdXJyZW50UGFnZSA9PT0gdG90YWxQYWdlcyB8fCBlbmQgPT09IHRvdGFsUGFnZXMpIHN0YXJ0ID0gTWF0aC5tYXgoMSwgZW5kIC0gMik7XG5cbiAgICBmb3IgKGxldCBpID0gc3RhcnQ7IGkgPD0gZW5kOyBpKyspIHtcbiAgICAgICAgJChgLm1hc3RlcnN0dWR5LXBhZ2luYXRpb25fX2l0ZW06aGFzKFtkYXRhLWlkPVwiJHtpfVwiXSlgKS5zaG93KCk7XG4gICAgfVxuXG4gICAgJChgLm1hc3RlcnN0dWR5LXBhZ2luYXRpb25fX2l0ZW0tYmxvY2tbZGF0YS1pZD1cIiR7Y3VycmVudFBhZ2V9XCJdYCkucGFyZW50KCkuYWRkQ2xhc3MoICdtYXN0ZXJzdHVkeS1wYWdpbmF0aW9uX19pdGVtX2N1cnJlbnQnICk7XG4gICAgJChcIi5tYXN0ZXJzdHVkeS1wYWdpbmF0aW9uX19idXR0b24tbmV4dFwiKS50b2dnbGUoY3VycmVudFBhZ2UgPCB0b3RhbFBhZ2VzKTtcbiAgICAkKFwiLm1hc3RlcnN0dWR5LXBhZ2luYXRpb25fX2J1dHRvbi1wcmV2XCIpLnRvZ2dsZShjdXJyZW50UGFnZSA+IDEpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYXR0YWNoUGFnaW5hdGlvbkNsaWNrSGFuZGxlcnModG90YWxQYWdlcywgb25QYWdlQ2hhbmdlLCBnZXRQZXJQYWdlU2VsZWN0b3IpIHtcbiAgICAkKFwiLm1hc3RlcnN0dWR5LXBhZ2luYXRpb25fX2l0ZW0tYmxvY2tcIikub2ZmKFwiY2xpY2tcIikub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICggJCh0aGlzKS5wYXJlbnQoKS5oYXNDbGFzcyggJ21hc3RlcnN0dWR5LXBhZ2luYXRpb25fX2l0ZW1fY3VycmVudCcgKSApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHBhZ2UgPSAkKHRoaXMpLmRhdGEoXCJpZFwiKTtcbiAgICAgICAgb25QYWdlQ2hhbmdlKCQoZ2V0UGVyUGFnZVNlbGVjdG9yKCkpLnZhbCgpLCBwYWdlKTtcbiAgICB9KTtcblxuICAgICQoXCIubWFzdGVyc3R1ZHktcGFnaW5hdGlvbl9fYnV0dG9uLXByZXZcIikub2ZmKFwiY2xpY2tcIikub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnQgPSAkKFwiLm1hc3RlcnN0dWR5LXBhZ2luYXRpb25fX2l0ZW1fY3VycmVudCAubWFzdGVyc3R1ZHktcGFnaW5hdGlvbl9faXRlbS1ibG9ja1wiKS5kYXRhKFwiaWRcIik7XG4gICAgICAgIGlmIChjdXJyZW50ID4gMSkgb25QYWdlQ2hhbmdlKCQoZ2V0UGVyUGFnZVNlbGVjdG9yKCkpLnZhbCgpLCBjdXJyZW50IC0gMSk7XG4gICAgfSk7XG5cbiAgICAkKFwiLm1hc3RlcnN0dWR5LXBhZ2luYXRpb25fX2J1dHRvbi1uZXh0XCIpLm9mZihcImNsaWNrXCIpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICBjb25zdCBjdXJyZW50ID0gJChcIi5tYXN0ZXJzdHVkeS1wYWdpbmF0aW9uX19pdGVtX2N1cnJlbnQgLm1hc3RlcnN0dWR5LXBhZ2luYXRpb25fX2l0ZW0tYmxvY2tcIikuZGF0YShcImlkXCIpO1xuICAgICAgICBjb25zdCB0b3RhbCA9ICQoXCIubWFzdGVyc3R1ZHktcGFnaW5hdGlvbl9faXRlbS1ibG9ja1wiKS5sZW5ndGg7XG4gICAgICAgIGlmIChjdXJyZW50IDwgdG90YWwpIG9uUGFnZUNoYW5nZSgkKGdldFBlclBhZ2VTZWxlY3RvcigpKS52YWwoKSwgY3VycmVudCArIDEpO1xuICAgIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYmluZFBlclBhZ2VIYW5kbGVyKGNvbnRhaW5lclNlbGVjdG9yLCBwZXJQYWdlLCBmZXRjaEZuKSB7XG4gICAgJChcIi5tYXN0ZXJzdHVkeS1zZWxlY3RfX29wdGlvbiwgLm1hc3RlcnN0dWR5LXNlbGVjdF9fY2xlYXJcIiwgcGVyUGFnZSkub2ZmKFwiY2xpY2tcIikub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICQoY29udGFpbmVyU2VsZWN0b3IpLnJlbW92ZSgpO1xuICAgICAgICBmZXRjaEZuKCQodGhpcykuZGF0YShcInZhbHVlXCIpKTtcbiAgICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlbmRlclBhZ2luYXRpb24oe1xuICAgIGFqYXh1cmwsXG4gICAgbm9uY2UsXG4gICAgdG90YWxQYWdlcyxcbiAgICBjdXJyZW50UGFnZSxcbiAgICBwYWdpbmF0aW9uQ29udGFpbmVyLFxuICAgIG9uUGFnZUNoYW5nZSxcbiAgICBnZXRQZXJQYWdlU2VsZWN0b3IsXG59KSB7XG4gICAgJC5wb3N0KGFqYXh1cmwsIHtcbiAgICAgICAgYWN0aW9uOiBcImdldF9wYWdpbmF0aW9uXCIsXG4gICAgICAgIHRvdGFsX3BhZ2VzOiB0b3RhbFBhZ2VzLFxuICAgICAgICBjdXJyZW50X3BhZ2U6IGN1cnJlbnRQYWdlLFxuICAgICAgICBfYWpheF9ub25jZTogbm9uY2UsXG4gICAgfSwgZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgIGlmIChyZXNwb25zZS5zdWNjZXNzKSB7XG4gICAgICAgICAgICBjb25zdCAkbmF2ID0gJChwYWdpbmF0aW9uQ29udGFpbmVyKTtcbiAgICAgICAgICAgICRuYXYudG9nZ2xlKHRvdGFsUGFnZXMgPiAxKS5odG1sKHJlc3BvbnNlLmRhdGEucGFnaW5hdGlvbik7XG4gICAgICAgICAgICBhdHRhY2hQYWdpbmF0aW9uQ2xpY2tIYW5kbGVycyh0b3RhbFBhZ2VzLCBvblBhZ2VDaGFuZ2UsIGdldFBlclBhZ2VTZWxlY3Rvcik7XG4gICAgICAgICAgICB1cGRhdGVQYWdpbmF0aW9uVmlldyh0b3RhbFBhZ2VzLCBjdXJyZW50UGFnZSk7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cbiJdfQ==
