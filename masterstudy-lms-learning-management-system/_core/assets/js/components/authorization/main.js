"use strict";!function(t){function a(t){r("register",authorization_settings.titles.register,t)}function i(t){r("login",authorization_settings.titles.login,t)}function r(t,a,i){i.removeClass("register"===t?"masterstudy-authorization_login":"masterstudy-authorization_register").addClass("masterstudy-authorization_".concat(t)),authorization_data.only_for_instructor||("register"===t?i.find(".masterstudy-authorization__instructor-page").removeClass("masterstudy-authorization__instructor-page_hide"):i.find(".masterstudy-authorization__instructor-page").addClass("masterstudy-authorization__instructor-page_hide")),i.find(".masterstudy-authorization__switch-lost-pass").removeClass("masterstudy-authorization__switch-lost-pass_hide"),i.find(".masterstudy-authorization__wrapper").removeClass("masterstudy-authorization__wrapper_hide"),i.find(".masterstudy-authorization__restore").removeClass("masterstudy-authorization__restore_show"),i.find("#masterstudy-authorization-restore-pass").removeClass("masterstudy-authorization__send-mail_show"),i.find("#masterstudy-authorization-confirm-email").removeClass("masterstudy-authorization__send-mail_show"),i.find(".masterstudy-authorization__switch").removeClass("masterstudy-authorization__switch_hide"),i.find(".masterstudy-authorization__header-title").text(a.main),i.find(".masterstudy-authorization__separator-title").text(a.separator),i.find(".masterstudy-authorization__switch-account-title").text(a.account),i.find(".masterstudy-authorization__form-field-error_privacy_policy").toggleClass("masterstudy-authorization__form-field-error_hide")}t(document).ready((function(){setTimeout((function(){t(".masterstudy-authorization-modal").removeAttr("style")}),1e3),t("[data-authorization-modal]").on("click",(function(r){r.preventDefault();var o=t(".masterstudy-authorization-modal"),s=o.find(".masterstudy-authorization");"register"===t(this).attr("data-authorization-modal")?a(s):i(s),o.addClass("masterstudy-authorization-modal_open"),t("body").addClass("masterstudy-authorization-body-hidden")})),t(".masterstudy-authorization-modal").on("click",(function(a){a.target===this&&(t(this).removeClass("masterstudy-authorization-modal_open"),t("body").removeClass("masterstudy-authorization-body-hidden"))})),t('.masterstudy-authorization-modal__close, [data-id="masterstudy-authorization-close-button"]').click((function(r){r.preventDefault(),t(this).closest(".masterstudy-authorization-modal").removeClass("masterstudy-authorization-modal_open"),t("body").removeClass("masterstudy-authorization-body-hidden"),setTimeout((function(){var r=t("[data-authorization-modal]"),o=t(".masterstudy-authorization-modal");r.length>0?"register"===r.attr("data-authorization-modal")?a(o):i(o):authorization_settings.register_mode?a(o):i(o)}),100)})),t(".masterstudy-authorization").each((function(){var r=t(this);r.find("#masterstudy-authorization-sign-up").click((function(t){t.preventDefault(),a(r)})),r.find("#masterstudy-authorization-sign-in").click((function(t){t.preventDefault(),i(r),r.find(".masterstudy-authorization__separator").show()})),r.find(".masterstudy-authorization__switch-lost-pass").click((function(){t(this).addClass("masterstudy-authorization__switch-lost-pass_hide"),r.find(".masterstudy-authorization__wrapper").addClass("masterstudy-authorization__wrapper_hide"),r.find(".masterstudy-authorization__restore").addClass("masterstudy-authorization__restore_show")})),r.find(".masterstudy-authorization__restore-header-back").click((function(){r.find(".masterstudy-authorization__switch-lost-pass").removeClass("masterstudy-authorization__switch-lost-pass_hide"),r.find(".masterstudy-authorization__wrapper").removeClass("masterstudy-authorization__wrapper_hide"),r.find(".masterstudy-authorization__restore").removeClass("masterstudy-authorization__restore_show")})),r.find(".masterstudy-authorization__form-show-pass").click((function(){t(this).toggleClass("masterstudy-authorization__form-show-pass_open");var a=t(this).parent().find("input");a.attr("type","password"===a.attr("type")?"text":"password")})),r.find(".masterstudy-authorization__checkbox-title").click((function(){t(this).parent().find(".masterstudy-authorization__checkbox-wrapper").trigger("click")})),r.find(".masterstudy-authorization__gdpr-text").click((function(){r.find(".masterstudy-authorization__gdpr .masterstudy-authorization__checkbox-wrapper").trigger("click")})),r.find(".masterstudy-authorization__instructor-text").click((function(){r.find(".masterstudy-authorization__instructor .masterstudy-authorization__checkbox-wrapper").trigger("click")})),r.find(".masterstudy-authorization__checkbox-wrapper").click((function(){t(this).toggleClass("masterstudy-authorization__checkbox-wrapper_checked");var a=t(this).prev(),i=a.closest("masterstudy-authorization__checkbox-group");a.prop("checked",!a.prop("checked")),"masterstudy-authorization-gdbr"===a.attr("id")&&r.find('[data-error-id="policy"]').remove(),"masterstudy-authorization-instructor"===a.attr("id")&&r.find(".masterstudy-authorization__instructor-container").toggleClass("masterstudy-authorization__instructor-container_open"),i.length>0&&i.find('[data-error-id="required"]').remove()})),r.find("input, textarea").on("input",(function(){t(this).parent().find(".masterstudy-authorization__form-field-error").remove(),t(this).parent().removeClass("masterstudy-authorization__form-field_has-error")}))}))})),t(".masterstudy-authorization__social").on("click",(function(t){var a=new Date;a.setHours(a.getHours()+1),document.cookie="social_redirect_url="+window.location.href+"; expires="+a.toUTCString()+"; path=/"}))}(jQuery);