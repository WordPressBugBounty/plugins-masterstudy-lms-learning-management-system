"use strict";!function(e){e(document).ready((function(){function t(e,t,a){document.dispatchEvent(new CustomEvent("msfieldEvent",{detail:{value:t||"",name:e||"",event:a||"change"}}))}e.each(e(".masterstudy-select"),(function(a,s){var l=e(s).find(".masterstudy-select__clear"),n=e(s).find(".masterstudy-select__option"),c=e(s).find(".masterstudy-select__placeholder"),o=e(s).find(".masterstudy-select__input"),d=e(s).data("queryable"),i=c.data("initial"),r=o.attr("name"),u=new URLSearchParams(window.location.search),m=window.location.href;e(s).on("click",(function(t){t.stopPropagation(),e(t.target).is('[class^="masterstudy-select__clear-"]')||e(s).toggleClass("masterstudy-select_open")})),e(document).on("click",(function(t){0===e(s).parent().has(t.target).length&&e(s).removeClass("masterstudy-select_open")})),l.on("click",(function(){if(e(s).removeClass("masterstudy-select_selected"),c.html(c.data("placeholder")),o.val(i),n.removeClass("masterstudy-select__option_selected"),t(r,"","cleared"),d){u=new URLSearchParams(window.location.search),i?(u.set(r,i),u.delete("paged")):u.delete(r);var a=m.split("?")[0]+"?"+u.toString();window.history.replaceState({},document.title,a),window.location.href=a}})),e.each(n,(function(a,l){e(l).on("click",(function(){var a=e(this).data("value");if(e(s).addClass("masterstudy-select_selected"),e(this).toggleClass("masterstudy-select__option_selected"),e(l).siblings().removeClass("masterstudy-select__option_selected"),c.html(e(this).html()),o.val(a),t(r,a),d){(u=new URLSearchParams(window.location.search)).delete("paged"),u.has(r)?u.set(r,a):u.append(r,a);var n=m.split("?")[0]+"?"+u.toString();window.history.replaceState({},document.title,n),window.location.href=n}})),e(l).data("value")==u.get(r)&&(c.html(e(l).html()),e(s).addClass("masterstudy-select_selected"),e(l).toggleClass("masterstudy-select__option_selected"),o.val(e(l).data("value")))}))}))}))}(jQuery);