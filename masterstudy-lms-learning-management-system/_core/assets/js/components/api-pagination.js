"use strict";function initializePagination(t,a){var e=jQuery(".masterstudy-pagination"),i=e.find(".masterstudy-pagination__wrapper"),n=e.find(".masterstudy-pagination__list"),s=e.find(".masterstudy-pagination__button-next"),r=e.find(".masterstudy-pagination__button-prev");if(void 0===o)var o={max_visible_pages:5,total_pages:a,current_page:t,is_queryable:!1,item_width:50};["max_visible_pages","total_pages","current_page","item_width"].forEach((function(t){o[t]=parseInt(o[t])}));var u=i.data("width"),d=0,_=Math.round(o.max_visible_pages/2),p=o.item_width*(a-o.max_visible_pages),l=a<=o.max_visible_pages;u&&i.css("width",u),prevNextButtonState(jQuery(".masterstudy-pagination"),t,a),d=calculateInitialPosition(t,_,a,p),n.find('[data-id="'.concat(t,'"]')).parent().addClass("masterstudy-pagination__item_current"),n.animate({left:-d+"px"},50),s.off("click").on("click",(function(e){e.preventDefault(),o.is_queryable&&t<a&&updatePageQueryParam(t+1),updateButtonState(s,r,t,a),scrollPageList(t,_,p,n),setCurrentPage(n,t,"masterstudy-pagination__item_current")})),r.off("click").on("click",(function(e){e.preventDefault(),o.is_queryable&&t>1&&updatePageQueryParam(t-1),updateButtonState(s,r,t,a),scrollPageList(t,_,p,n),setCurrentPage(n,t,"masterstudy-pagination__item_current")})),jQuery(".masterstudy-pagination__item-block").off("click").on("click",(function(){t=jQuery(this).data("id");var e=jQuery(this).closest(".masterstudy-pagination");d=calculateCurrentPosition(t,_,p,l,a),prevNextButtonState(e,t,a),jQuery(this).parent().siblings().removeClass("masterstudy-pagination__item_current"),jQuery(this).parent().addClass("masterstudy-pagination__item_current"),n.animate({left:-d+"px"},50),o.is_queryable&&updatePageQueryParam(t)}))}function calculateInitialPosition(t,a,e,i){return t<=a?0:t>e-a?i:(t-a)*pages_data.item_width}function setCurrentPage(t,a,e){t.find('[data-id="'.concat(a,'"]')).parent().siblings().removeClass(e),t.find('[data-id="'.concat(a,'"]')).parent().addClass(e)}function updateButtonState(t,a,e,i){a.toggleClass("masterstudy-pagination__button_disabled",1===e||1===i),t.toggleClass("masterstudy-pagination__button_disabled",e===i||1===i)}function scrollPageList(t,a,e,i){var n=0;n=t>a&&t<pages_data.total_pages-a+1?(t-a)*pages_data.item_width:t<=a?0:e,i.animate({left:-n+"px"},50)}function calculateCurrentPosition(t,a,e,i,n){return t<a?0:t>n-a+1?i?0:e:(t-a)*pages_data.item_width}function updatePageQueryParam(t){var a=window.location.href,e=new URLSearchParams(window.location.search),i="page";e.has(i)?e.set(i,t):e.append(i,t);var n=a.split("?")[0]+"?"+e.toString();window.history.replaceState({},document.title,n),window.location.href=n}function prevNextButtonState(t,a,e){t.find(".masterstudy-pagination__button-prev").toggleClass("masterstudy-pagination__button_disabled",1===a||1===e),t.find(".masterstudy-pagination__button-next").toggleClass("masterstudy-pagination__button_disabled",a===e||1===e)}jQuery(document).ready((function(){"undefined"!=typeof pages_data&&initializePagination(parseInt(pages_data.current_page),parseInt(pages_data.total_pages))}));