"use strict";!function(e){e(document).ready((function(){e.each(e(".masterstudy-search"),(function(a,t){var n=e(t).find(".masterstudy-search__input"),s=e(t).find(".masterstudy-search__icon"),i=e(t).find(".masterstudy-search__clear-icon"),r=e(t).data("queryable"),o=n.attr("name"),c=window.location.href,l=new URLSearchParams(window.location.search);if(null!=o){if(null!=l.get(o)&&""!==l.get(o))n.val(l.get(o)),h(o,n.val(),"onload"),e(t).addClass("masterstudy-search_inuse");else{var d=l.toString();if(l.delete(o),d){var u=c.split("?")[0]+"?"+d;window.history.replaceState({},document.title,u)}e(t).removeClass("masterstudy-search_inuse")}s.on("click",(function(){if((l=new URLSearchParams(window.location.search)).delete("page"),l.has(o)?l.set(o,n.val()):l.append(o,n.val()),h(o,n.val(),"submit"),r){var e=c.split("?")[0]+"?"+l.toString();window.history.replaceState({},document.title,e),window.location.href=e}})),i.on("click",(function(){n.val(""),e(t).removeClass("masterstudy-search_inuse");var a=(l=new URLSearchParams(window.location.search)).has(o);if(l.delete(o),h(o,"","cleared"),a&&r){var s=c.split("?")[0]+"?"+l.toString();window.history.replaceState({},document.title,s),window.location.href=s}})),n.on("change keyup paste",(function(){n.val().length>0?e(t).addClass("masterstudy-search_inuse"):e(t).removeClass("masterstudy-search_inuse")}))}function h(e,a,t){document.dispatchEvent(new CustomEvent("msfieldEvent",{detail:{value:a||"",name:e||"",event:t||"change"}}))}}))}))}(jQuery);